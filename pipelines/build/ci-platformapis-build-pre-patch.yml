trigger:
  branches:
    include:
      - master
pool:
  name: "tasmumsiagents"

resources:
  - repo: self

jobs:
  - job: Build_Queue
    steps:
      - task: PowerShell@2
        name: setBuildQueue
        inputs:
          targetType: filePath
          filePath: "pipelines/build/get-service-queue.ps1"
        displayName: "Get Service Build Queue"

  - template: build-template.yml
    parameters:
      name: Reference
      solutionPath: "src/services/Reference"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: MCSTASMUBot
      solutionPath: "src/services/BOT"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: cmscontentapi
      solutionPath: "src/services/Mcs.TASMU.CMS.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: cmsdocumentsapi
      solutionPath: "src/services/Mcs.TASMU.CMS.Documents.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: cmsmediaassetsapi
      solutionPath: "src/services/Mcs.TASMU.CMS.MediaAssets.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: KnowledgebaseArticle
      solutionPath: "src/services/Mcs.Tasmu.KnowledgebaseArticle.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: Case
      solutionPath: "src/services/Case"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: FieldService
      solutionPath: "src/services/FieldService"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: OrganisationProfile
      solutionPath: "src/services/Mcs.Tasmu.OrganisationProfile.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: Profile
      solutionPath: "src/services/Mcs.Tasmu.Profile.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: MarketplaceCatalogue
      solutionPath: "src/services/Mcs.Tasmu.MarketplaceCatalogue.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: Demographic
      solutionPath: "src/services/Mcs.Tasmu.Demographic.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: Config
      solutionPath: "src/services/Mcs.Tasmu.Config.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: Notification
      solutionPath: "src/services/Notification"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: SmsPublisher
      solutionPath: "src/services/SmsPublisher"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: SmsProvider
      solutionPath: "src/services/SmsProvider"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: NotificationFunction
      solutionPath: "src/functions/Notification"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: SmartParkingFunction
      solutionPath: "src/functions/SmartParking"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: AzureSearchFunction
      solutionPath: "src/functions/AzureSearch"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: Smartparking
      solutionPath: "src/services/Smartparking"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: PaymentGW
      solutionPath: "src/services/Mcs.Tasmu.PaymentGW.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: NotificationTemplate
      solutionPath: "src/services/NotificationTemplate"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: FileFunction
      solutionPath: "src/functions/File"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: QnAMakerSync
      solutionPath: "src/functions/QnAMakerSync"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: EventGridPublisher
      solutionPath: "src/consolejob/EventGridPublisher"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: FieldFunction
      solutionPath: "src/functions/FieldService"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: OTP
      solutionPath: "src/services/Mcs.Tasmu.Otp.Api"
      dockerBuild: true

  - template: build-template.yml
    parameters:
      name: ManageEventFunction
      solutionPath: "src/functions/ManageEvent"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: PaymentFunction
      solutionPath: "src/functions/PaymentPreferenceFunction"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: ReconcileRefundFunction
      solutionPath: "src/functions/ReconcileRefundFunction"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: CkanResourceCreationFunction
      solutionPath: "src/functions/CkanResourceCreationFunction"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: BlobEventCreator
      solutionPath: "src/functions/BlobEventCreator"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: SharePointNotify
      solutionPath: "src/functions/SharePointNotify"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: BusinessProcess
      solutionPath: "src/functions/BusinessProcess"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: ProfileFunction
      solutionPath: "src/functions/Profile"
      dockerBuild: false

  - template: build-template.yml
    parameters:
      name: Subscriptions
      solutionPath: "src/services/Mcs.Tasmu.Subscriptions.Api"
      dockerBuild: true
# Add more template jobs with parameters for other Services
