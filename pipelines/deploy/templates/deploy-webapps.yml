parameters:
  - name: azureSubscription
    type: string
    default: "sqcp-ado-spn-qc-shared-services"

steps:
  # - template: helm-upgrade.yml
  #   parameters:
  #     name: marketplace
  #     chartPath: "$(Pipeline.Workspace)/charts/stable/webapps/marketplace"
  #     customValuestoAppend: ",host=$(marketplaceHost),environment.baseUrl=$(baseUrl),environment.trackingArticleId_AR=$(trackingArticleId_AR),environment.trackingArticleId=$(trackingArticleId),environment.payment_gatewayUrl=$(payment_gatewayUrl),environment.accountUrl=$(accountUrl),environment.hostUrl=$(hostUrl),environment.aad_redirectUri=$(aad_redirectUri),environment.botIframeUrl=$(botIframeUrl),environment.privacyPolicyUrl_en=$(privacyPolicyUrl_en),environment.privacyPolicyUrl_ar=$(privacyPolicyUrl_ar),environment.portalAssets=$(portalAssets),environment.appInsightsKey=$(appInsightsKey),environment.aad_clientid=$(aad_clientid),environment.aad_authority=$(aad_authority),environment.aad_authority_b2b=$(aad_authority_b2b),environment.aad_postLogoutRedirectUri=$(aad_postLogoutRedirectUri),environment.aad_redirectUri_eservices=$(aad_redirectUri_eservices),environment.aad_postLogoutRedirectUri_eservices=$(aad_postLogoutRedirectUri_eservices),environment.apim_subscriptionId=$(apim_subscriptionId),environment.names_signUpSignIn=$(names_signUpSignIn),environment.names_resetPassword=$(names_resetPassword),environment.b2b_authority_signUpSignIn=$(b2b_authority_signUpSignIn),environment.b2b_authority_resetPassword=$(b2b_authority_resetPassword),environment.b2b_authority_changePassword=$(b2b_authority_changePassword),environment.b2b_authority_linkAccount=$(b2b_authority_linkAccount),environment.b2c_authority_signUpSignIn=$(b2c_authority_signUpSignIn),environment.b2c_authority_resetPassword=$(b2c_authority_resetPassword),environment.b2c_authority_changePassword=$(b2c_authority_changePassword),environment.b2c_authority_linkAccount=$(b2c_authority_linkAccount),environment.scope_profileapi_read=$(scope_profileapi_read),environment.scope_profileapi_write=$(scope_profileapi_write),environment.scope_caseapi_read=$(scope_caseapi_read),environment.scope_caseapi_write=$(scope_caseapi_write),environment.scope_organizationapi_read=$(scope_organizationapi_read),environment.scope_organizationapi_write=$(scope_organizationapi_write),environment.scope_smartparkingapi_read=$(scope_smartparkingapi_read),environment.scope_subscriptionapi_read=$(scope_subscriptionapi_read),environment.scope_subscriptionapi_write=$(scope_subscriptionapi_write),environment.scope_reviewapi_write=$(scope_reviewapi_write),environment.openDataPortal=$(openDataPortal),environment.developerPortal=$(developerPortal),environment.eservices=$(eservices),environment.marketplace=$(marketplace)"
  #     azureSubscription: ${{ parameters.azureSubscription }}

  # - template: helm-upgrade.yml
  #   parameters:
  #     name: eservices
  #     chartPath: "$(Pipeline.Workspace)/charts/stable/webapps/eservices"
  #     customValuestoAppend: ",host=$(eservicesHost),environment.baseUrl=$(baseUrl),environment.trackingArticleId_AR=$(trackingArticleId_AR),environment.trackingArticleId=$(trackingArticleId),environment.payment_gatewayUrl=$(payment_gatewayUrl),environment.accountUrl=$(accountUrl),environment.hostUrl=$(hostUrl),environment.botIframeUrl=$(botIframeUrl),environment.privacyPolicyUrl_en=$(privacyPolicyUrl_en),environment.privacyPolicyUrl_ar=$(privacyPolicyUrl_ar),environment.portalAssets=$(portalAssets),environment.appInsightsKey=$(appInsightsKey),environment.aad_clientid=$(aad_clientid),environment.aad_redirectUri=$(aad_redirectUri),environment.aad_postLogoutRedirectUri=$(aad_postLogoutRedirectUri),environment.aad_redirectUri_eservices=$(aad_redirectUri_eservices),environment.aad_postLogoutRedirectUri_eservices=$(aad_postLogoutRedirectUri_eservices),environment.apim_subscriptionId=$(apim_subscriptionId),environment.names_signUpSignIn=$(names_signUpSignIn),environment.names_resetPassword=$(names_resetPassword),environment.b2c_authority_signUpSignInB2CIndividual=$(b2c_authority_signUpSignInB2CIndividual),environment.b2c_authority_signUpSignInB2CBusinessOwner=$(b2c_authority_signUpSignInB2CBusinessOwner),environment.b2c_authority_resetPassword=$(b2c_authority_resetPassword),environment.b2c_authority_changePassword=$(b2c_authority_changePassword),environment.b2c_authority_linkAccount=$(b2c_authority_linkAccount),environment.scope_profileapi_read=$(scope_profileapi_read),environment.scope_profileapi_write=$(scope_profileapi_write),environment.scope_caseapi_read=$(scope_caseapi_read),environment.scope_caseapi_write=$(scope_caseapi_write),environment.scope_organizationapi_read=$(scope_organizationapi_read),environment.scope_organizationapi_write=$(scope_organizationapi_write),environment.scope_smartparkingapi_read=$(scope_smartparkingapi_read),environment.scope_subscriptionapi_read=$(scope_subscriptionapi_read),environment.scope_subscriptionapi_write=$(scope_subscriptionapi_write),environment.scope_reviewapi_write=$(scope_reviewapi_write),environment.openDataPortal=$(openDataPortal),environment.developerPortal=$(developerPortal),environment.eservices=$(eservices),environment.marketplace=$(marketplace)"
  #     azureSubscription: ${{ parameters.azureSubscription }}

  - template: helm-upgrade.yml
    parameters:
      name: adminportal
      chartPath: "$(Pipeline.Workspace)/charts/stable/webapps/adminportal"
      customValuestoAppend: ",host=$(adminportalHost),environment.ConnectionStrings__AppConfig=$(appConfigConnection),environment.baseUrl=$(baseUrl),environment.accountUrl=$(accountUrl),environment.appInsightsKey=$(appInsightsKey),environment.aad_clientid=$(aad_clientid),environment.aad_authority=$(aad_authority),environment.aad_authority_b2b=$(aad_authority_b2b),environment.aad_redirectUri=$(aad_redirectUri),environment.aad_postLogoutRedirectUri=$(aad_postLogoutRedirectUri),environment.aad_redirectUri_eservices=$(aad_redirectUri_eservices),environment.aad_postLogoutRedirectUri_eservices=$(aad_postLogoutRedirectUri_eservices),environment.apim_subscriptionId=$(apim_subscriptionId),environment.names_signUpSignIn=$(names_signUpSignIn),environment.names_resetPassword=$(names_resetPassword),environment.b2b_authority_signUpSignIn=$(b2b_authority_signUpSignIn),environment.b2b_authority_resetPassword=$(b2b_authority_resetPassword),environment.b2b_authority_changePassword=$(b2b_authority_changePassword),environment.b2b_authority_linkAccount=$(b2b_authority_linkAccount),environment.b2c_authority_signUpSignIn=$(b2c_authority_signUpSignIn),environment.b2c_authority_resetPassword=$(b2c_authority_resetPassword),environment.b2c_authority_changePassword=$(b2c_authority_changePassword),environment.b2c_authority_linkAccount=$(b2c_authority_linkAccount),environment.scope_profileapi_read=$(scope_profileapi_read),environment.scope_profileapi_write=$(scope_profileapi_write),environment.scope_caseapi_read=$(scope_caseapi_read),environment.scope_caseapi_write=$(scope_caseapi_write),environment.scope_organizationapi_read=$(scope_organizationapi_read),environment.scope_organizationapi_write=$(scope_organizationapi_write),environment.scope_smartparkingapi_read=$(scope_smartparkingapi_read),environment.scope_subscriptionapi_read=$(scope_subscriptionapi_read),environment.scope_subscriptionapi_write=$(scope_subscriptionapi_write),environment.scope_reviewapi_write=$(scope_reviewapi_write)"
      azureSubscription: ${{ parameters.azureSubscription }}

  # - template: helm-upgrade.yml
  #   parameters:
  #     name: powerbiembed
  #     chartPath: "$(Pipeline.Workspace)/charts/stable/webapps/powerbiembed"
  #     customValuestoAppend: ",host=$(powerbiembedHost),environment.ConnectionStrings__AppConfig=$(appConfigConnection)"
  #     azureSubscription: ${{ parameters.azureSubscription }}

  # - template: helm-upgrade.yml
  #   parameters:
  #     name: authorizecard
  #     chartPath: "$(Pipeline.Workspace)/charts/stable/webapps/authorizecard"
  #     customValuestoAppend: ",host=$(authorizecardHost),environment.ConnectionStrings__AppConfig=$(appConfigConnection)"
  #     azureSubscription: ${{ parameters.azureSubscription }}

  # - template: helm-upgrade.yml
  #   parameters:
  #     name: account
  #     chartPath: "$(Pipeline.Workspace)/charts/stable/webapps/account"
  #     customValuestoAppend: ",host=$(accountHost),environment.baseUrl=$(baseUrl),environment.payment_gatewayUrl=$(payment_gatewayUrl),environment.b2bHostUrl=$(b2bHostUrl),environment.b2cHostUrl=$(b2cHostUrl),environment.aad_redirectUri=$(aad_redirectUri),environment.aad_postLogoutRedirectUri=$(aad_postLogoutRedirectUri),environment.portalAssets=$(portalAssets),environment.appInsightsKey=$(appInsightsKey),environment.aad_clientid=$(aad_clientid),environment.aad_authority=$(aad_authority),environment.names_signUpSignIn=$(names_signUpSignIn),environment.names_resetPassword=$(names_resetPassword),environment.names_signUpLinkage=$(names_signUpLinkage),environment.b2b_authority_signUpSignInB2B=$(b2b_authority_signUpSignInB2B),environment.b2c_authority_signUpSignInB2CIndividual=$(b2c_authority_signUpSignInB2CIndividual),environment.b2c_authority_signUpSignInB2CBusinessOwner=$(b2c_authority_signUpSignInB2CBusinessOwner),environment.b2b_authority_resetPassword=$(b2b_authority_resetPassword),environment.b2b_authority_changePassword=$(b2b_authority_changePassword),environment.b2b_authority_linkAccount=$(b2b_authority_linkAccount),environment.scope_profileapi_read=$(scope_profileapi_read),environment.scope_profileapi_write=$(scope_profileapi_write),environment.scope_caseapi_read=$(scope_caseapi_read),environment.scope_caseapi_write=$(scope_caseapi_write),environment.scope_organizationapi_read=$(scope_organizationapi_read),environment.scope_organizationapi_write=$(scope_organizationapi_write),environment.scope_subscriptionapi_read=$(scope_subscriptionapi_read),environment.scope_subscriptionapi_write=$(scope_subscriptionapi_write),environment.powerbi_embedUrl=$(powerbi_embedUrl),environment.tasmuProvider=$(tasmuProvider),environment.workspaceid=$(workspaceid),environment.insightsreportid=$(insightsreportid),environment.servicehealth_1reportid=$(servicehealth_1reportid),environment.a2bProvider=$(a2bProvider),environment.servicehealth_2reportid=$(servicehealth_2reportid),environment.atProvider=$(atProvider),environment.tProvider=$(tProvider),environment.openDataPortal=$(openDataPortal),environment.developerPortal=$(developerPortal),environment.eservices=$(eservices),environment.marketplace=$(marketplace)"
  #     azureSubscription: ${{ parameters.azureSubscription }}
