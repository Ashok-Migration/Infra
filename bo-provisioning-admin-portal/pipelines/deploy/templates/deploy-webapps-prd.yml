parameters:
  - name: azureSubscription
    type: string
    default: "sqcp-ado-spn-prd"

steps:
  - template: helm-upgrade.yml
    parameters:
      name: boadminportal
      chartPath: "$(Pipeline.Workspace)/charts/stable/webapps/boadminportal"
      customValuestoAppend: ",host=$(orderingtoolHost),environment.baseUrl=$(baseUrl),environment.trackingArticleId_AR=$(trackingArticleId_AR),environment.trackingArticleId=$(trackingArticleId),environment.payment_gatewayUrl=$(payment_gatewayUrl),environment.accountUrl=$(accountUrl),environment.hostUrl=$(hostUrl),environment.aad_redirectUri=$(aad_redirectUri),environment.botIframeUrl=$(botIframeUrl),environment.privacyPolicyUrl_en=$(privacyPolicyUrl_en),environment.privacyPolicyUrl_ar=$(privacyPolicyUrl_ar),environment.portalAssets=$(portalAssets),environment.appInsightsKey=$(appInsightsKey),environment.aad_clientid=$(aad_clientid),environment.aad_authority=$(aad_authority),environment.aad_authority_b2b=$(aad_authority_b2b),environment.aad_postLogoutRedirectUri=$(aad_postLogoutRedirectUri),environment.aad_redirectUri_eservices=$(aad_redirectUri_eservices),environment.aad_postLogoutRedirectUri_eservices=$(aad_postLogoutRedirectUri_eservices),environment.apim_subscriptionId=$(apim_subscriptionId),environment.names_signUpSignIn=$(names_signUpSignIn),environment.names_resetPassword=$(names_resetPassword),environment.b2b_authority_signUpSignIn=$(b2b_authority_signUpSignIn),environment.b2b_authority_resetPassword=$(b2b_authority_resetPassword),environment.b2b_authority_changePassword=$(b2b_authority_changePassword),environment.b2b_authority_linkAccount=$(b2b_authority_linkAccount),environment.b2c_authority_signUpSignIn=$(b2c_authority_signUpSignIn),environment.b2c_authority_resetPassword=$(b2c_authority_resetPassword),environment.b2c_authority_changePassword=$(b2c_authority_changePassword),environment.b2c_authority_linkAccount=$(b2c_authority_linkAccount),environment.scope_profileapi_read=$(scope_profileapi_read),environment.scope_profileapi_write=$(scope_profileapi_write),environment.scope_caseapi_read=$(scope_caseapi_read),environment.scope_caseapi_write=$(scope_caseapi_write),environment.scope_organizationapi_read=$(scope_organizationapi_read),environment.scope_organizationapi_write=$(scope_organizationapi_write),environment.scope_smartparkingapi_read=$(scope_smartparkingapi_read),environment.scope_subscriptionapi_read=$(scope_subscriptionapi_read),environment.scope_subscriptionapi_write=$(scope_subscriptionapi_write),environment.scope_reviewapi_write=$(scope_reviewapi_write),environment.openDataPortal=$(openDataPortal),environment.developerPortal=$(developerPortal),environment.eservices=$(eservices),environment.marketplace=$(marketplace)"
      azureSubscription: ${{ parameters.azureSubscription }}
