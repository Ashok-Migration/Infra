{
	"$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"workflowName": {
			"value": "logic-cpd-apps-intbpa-uat-we-01"
		},
		"workflowLocation": {
			"value": "westeurope"
		},
		"workflowSchema": {
			"value": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#"
		},
		"workflowTriggers": {
			"value": {
				"When_a_message_is_received_in_a_queue_(auto-complete)": {
					"recurrence": {
						"frequency": "Second",
						"interval": 10
					},
					"type": "ApiConnection",
					"inputs": {
						"host": {
							"connection": {
								"name": "@parameters('$connections')['apicon-cpd-apps-intsb-uat-we-01']['connectionId']"
							}
						},
						"method": "get",
						"path": "/@{encodeURIComponent(encodeURIComponent('changelog'))}/messages/head",
						"queries": {
							"queueType": "Main"
						},
						"retryPolicy": {
							"count": 5,
							"interval": "PT300S",
							"type": "fixed"
						}
					}
				}
			}
		},
		"workflowActions": {
			"value": {
				"Condition_5": {
					"actions": {
						"Add_task_to_all_Translators_for_Translation": {
							"runAfter": {
								"For_each": [
									"Succeeded"
								]
							},
							"type": "ApiConnection",
							"inputs": {
								"body": {
									"body": "{\n\"Title\":\"Translation Task - @{body('Parse_JSON')?['ItemTitle']}\",\n\"AssignedToId\":@{variables('TranslatorsUserId')},\n\"ParentSiteUrl\":\"@{body('Parse_JSON')?['SiteURL']}\",\n\"ParentItemId\":\"@{body('Parse_JSON')?['ItemGUID']}\",\n\"TASMUTaskStatusInternal\":\"Active\",\n\"ContentTypeId\":\"@{variables('TranslationContentTypeId')}\"\n}",
									"headers": {
										"Accept": "application/json;odata=nometadata",
										"Content-Type": "application/json"
									},
									"method": "POST",
									"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/items?$select=Id"
								},
								"host": {
									"connection": {
										"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
									}
								},
								"method": "post",
								"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
							}
						},
						"Condition_2": {
							"actions": {
								"Add_task_to_users_for_Approval": {
									"runAfter": {
										"For_each_loop_for_adding_emails_of_all_users_of_Approvers_group_in_a_variable": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"body": "{\n\"Title\":\"Approval Request - @{body('Parse_JSON')?['ItemTitle']}\",\n\"AssignedToId\":@{variables('ApproverUserId')},\n\"ParentSiteUrl\":\"@{body('Parse_JSON')?['SiteURL']}\",\n\"ParentItemId\":\"@{body('Parse_JSON')?['ItemGUID']}\",\n\"TASMUTaskStatusInternal\":\"Active\",\n\"TASMUTaskStatus\":\"Created\"\n}",
											"headers": {
												"Accept": "application/json;odata=nometadata",
												"Content-Type": "application/json;odata=nometadata"
											},
											"method": "POST",
											"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/items?$select=Id"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								},
								"Condition": {
									"actions": {
										"Condition_to_check_if_SiteLevel_from_Config_List_is_global_or_not": {
											"actions": {
												"Condition_6": {
													"actions": {
														"Set_variable_37": {
															"runAfter": {
																"entity_term_name": [
																	"Succeeded"
																]
															},
															"type": "SetVariable",
															"inputs": {
																"name": "CountOfEntities",
																"value": "@length(body('Parse_JSON_18')?['Entities'])"
															}
														},
														"entity_term_name": {
															"foreach": "@body('Parse_JSON_18')?['Entities']",
															"actions": {
																"Set_variable_9": {
																	"runAfter": {},
																	"type": "SetVariable",
																	"inputs": {
																		"name": "EntityTermName",
																		"value": "@items('entity_term_name')?['Label']"
																	}
																}
															},
															"runAfter": {},
															"type": "Foreach"
														}
													},
													"runAfter": {
														"Condition_8": [
															"Succeeded"
														]
													},
													"expression": {
														"and": [
															{
																"greater": [
																	"@length(body('Parse_JSON_18')?['Entities'])",
																	0
																]
															}
														]
													},
													"type": "If"
												},
												"Condition_8": {
													"actions": {
														"Set_variable_36": {
															"runAfter": {
																"sector_term_name": [
																	"Succeeded"
																]
															},
															"type": "SetVariable",
															"inputs": {
																"name": "CountOfSectors",
																"value": "@length(body('Parse_JSON_18')?['Sectors'])"
															}
														},
														"sector_term_name": {
															"foreach": "@body('Parse_JSON_18')?['Sectors']",
															"actions": {
																"Set_variable_8": {
																	"runAfter": {},
																	"type": "SetVariable",
																	"inputs": {
																		"name": "SectorTermName",
																		"value": "@items('sector_term_name')?['Label']"
																	}
																}
															},
															"runAfter": {},
															"type": "Foreach"
														}
													},
													"runAfter": {},
													"expression": {
														"and": [
															{
																"greater": [
																	"@length(body('Parse_JSON_18')?['Sectors'])",
																	0
																]
															}
														]
													},
													"type": "If"
												},
												"Condition_to_check_if_2nd_level_approval_is_required_or_not": {
													"actions": {
														"Set_variable_3": {
															"runAfter": {},
															"type": "SetVariable",
															"inputs": {
																"name": "2ndLevelApprovalRequired",
																"value": "Yes"
															}
														}
													},
													"runAfter": {
														"Condition_6": [
															"Succeeded"
														]
													},
													"else": {
														"actions": {
															"Set_variable_13": {
																"runAfter": {},
																"type": "SetVariable",
																"inputs": {
																	"name": "2ndLevelApprovalRequired",
																	"value": "No"
																}
															}
														}
													},
													"expression": {
														"or": [
															{
																"and": [
																	{
																		"equals": [
																			"@body('Parse_JSON_18')?['ContentTier']",
																			"Sector"
																		]
																	},
																	{
																		"greater": [
																			"@variables('CountOfSectors')",
																			1
																		]
																	}
																]
															},
															{
																"and": [
																	{
																		"equals": [
																			"@body('Parse_JSON_18')?['ContentTier']",
																			"Entity"
																		]
																	},
																	{
																		"greater": [
																			"@variables('CountOfEntities')",
																			1
																		]
																	}
																]
															},
															{
																"and": [
																	{
																		"equals": [
																			"@body('Parse_JSON_18')?['ContentTier']",
																			"Sector"
																		]
																	},
																	{
																		"equals": [
																			"@variables('CountOfSectors')",
																			1
																		]
																	},
																	{
																		"not": {
																			"equals": [
																				"@variables('ConfigSectorName')",
																				"@variables('SectorTermName')"
																			]
																		}
																	}
																]
															},
															{
																"and": [
																	{
																		"equals": [
																			"@body('Parse_JSON_18')?['ContentTier']",
																			"Entity"
																		]
																	},
																	{
																		"equals": [
																			"@variables('CountOfEntities')",
																			1
																		]
																	},
																	{
																		"not": {
																			"equals": [
																				"@variables('ConfigEnityName')",
																				"@variables('EntityTermName')"
																			]
																		}
																	}
																]
															},
															{
																"and": [
																	{
																		"not": {
																			"equals": [
																				"@body('Parse_JSON_18')?['ContentTier']",
																				"@variables('ConfigSiteLevel')"
																			]
																		}
																	}
																]
															}
														]
													},
													"type": "If"
												},
												"If_2nd_Level_approval_required_is_Yes": {
													"actions": {
														"Add_tasks_to_Global_level_Approvers": {
															"runAfter": {
																"For_each_2": [
																	"Succeeded"
																]
															},
															"type": "ApiConnection",
															"inputs": {
																"body": {
																	"body": "{\n\"Title\":\"Global - Approval Request - @{body('Parse_JSON')?['ItemTitle']}\",\n\"AssignedToId\":@{variables('GlobalApproverUserId')},\n\"ParentSiteUrl\":\"@{body('Parse_JSON')?['SiteURL']}\",\n\"ParentItemId\":\"@{body('Parse_JSON')?['ItemGUID']}\",\n\"TASMUTaskStatusInternal\":\"Active\",\n\"TASMUTaskStatus\":\"Created\"\n}",
																	"headers": {
																		"Accept": "application/json;odata=nometadata",
																		"Content-Type": "application/json;odata=nometadata"
																	},
																	"method": "POST",
																	"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/items?$select=Id"
																},
																"host": {
																	"connection": {
																		"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																	}
																},
																"method": "post",
																"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['MarketplaceSiteURL']))}/httprequest"
															}
														},
														"Condition_to_check_if_Task_is_Approved_or_Rejected_at_global_level": {
															"actions": {
																"If_Approved_Update_Task_Status_to_Completed_for_1st_level_Approval_task": {
																	"runAfter": {},
																	"type": "ApiConnection",
																	"inputs": {
																		"body": {
																			"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																			"headers": {
																				"Accept": "application/json;odata=verbose",
																				"Content-Type": "application/json",
																				"If-Match": "*",
																				"X-HTTP-Method": "MERGE"
																			},
																			"method": "POST",
																			"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_7')?['ID']})"
																		},
																		"host": {
																			"connection": {
																				"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																			}
																		},
																		"method": "post",
																		"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																	}
																},
																"If_Approved_Update_Task_Status_to_Completed_for_Translation_task": {
																	"runAfter": {
																		"If_Approved_Update_Task_Status_to_Completed_for_1st_level_Approval_task": [
																			"Succeeded"
																		]
																	},
																	"type": "ApiConnection",
																	"inputs": {
																		"body": {
																			"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																			"headers": {
																				"Accept": "application/json;odata=verbose",
																				"Content-Type": "application/json",
																				"If-Match": "*",
																				"X-HTTP-Method": "MERGE"
																			},
																			"method": "POST",
																			"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
																		},
																		"host": {
																			"connection": {
																				"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																			}
																		},
																		"method": "post",
																		"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																	}
																},
																"If_Approved_Update_the_Global_Approval_task": {
																	"runAfter": {
																		"If_Approved_Update_Task_Status_to_Completed_for_Translation_task": [
																			"Succeeded"
																		]
																	},
																	"type": "ApiConnection",
																	"inputs": {
																		"body": {
																			"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																			"headers": {
																				"Accept": "application/json;odata=verbose",
																				"Content-Type": "application/json",
																				"If-Match": "*",
																				"X-HTTP-Method": "MERGE"
																			},
																			"method": "POST",
																			"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_14')?['ID']})"
																		},
																		"host": {
																			"connection": {
																				"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																			}
																		},
																		"method": "post",
																		"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['MarketplaceSiteURL']))}/httprequest"
																	}
																},
																"Send_an_HTTP_request_to_SharePoint_15": {
																	"runAfter": {
																		"If_Approved_Update_the_Global_Approval_task": [
																			"Succeeded"
																		]
																	},
																	"type": "ApiConnection",
																	"inputs": {
																		"body": {
																			"body": "{\n\"ApproverComments\":\"@{variables('GlobalApproverTaskComments')}\",\n\"RequiresTranslation\":\"False\",\n\"Contenuatatus\":\"Approved\"\n}",
																			"headers": {
																				"Accept": "application/json;odata=verbose",
																				"Content-Type": "application/json",
																				"If-Match": "*",
																				"X-HTTP-Method": "MERGE"
																			},
																			"method": "POST",
																			"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
																		},
																		"host": {
																			"connection": {
																				"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																			}
																		},
																		"method": "post",
																		"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																	}
																},
																"Send_an_email_(V2)_12": {
																	"runAfter": {
																		"Set_variable_29": [
																			"Succeeded"
																		]
																	},
																	"type": "ApiConnection",
																	"inputs": {
																		"body": {
																			"Body": "<p>@{variables('EmailBody')}</p>",
																			"Importance": "Normal",
																			"Subject": "Global Approval - @{body('Parse_JSON')?['ItemTitle']}",
																			"To": "@variables('GlobalApproverEmail')"
																		},
																		"host": {
																			"connection": {
																				"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																			}
																		},
																		"method": "post",
																		"path": "/v2/Mail"
																	}
																},
																"Send_an_email_(V2)_18": {
																	"runAfter": {
																		"Send_an_email_(V2)_12": [
																			"Succeeded"
																		]
																	},
																	"type": "ApiConnection",
																	"inputs": {
																		"body": {
																			"Body": "<p>@{variables('EditorEmailBody')}</p>",
																			"Subject": "Global Approval - @{body('Parse_JSON')?['ItemTitle']}",
																			"To": "@body('Parse_JSON')?['EditorEmail']"
																		},
																		"host": {
																			"connection": {
																				"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																			}
																		},
																		"method": "post",
																		"path": "/v2/Mail"
																	}
																},
																"Set_variable_28": {
																	"runAfter": {
																		"Send_an_HTTP_request_to_SharePoint_15": [
																			"Succeeded"
																		]
																	},
																	"type": "SetVariable",
																	"inputs": {
																		"name": "EmailBody",
																		"value": "<p>Hello Approver,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been approved.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to view  the content.<br>\n<br>\n\n\nRegards,<br>\nAdmin Team</p>"
																	}
																},
																"Set_variable_29": {
																	"runAfter": {
																		"Set_variable_28": [
																			"Succeeded"
																		]
																	},
																	"type": "SetVariable",
																	"inputs": {
																		"name": "EditorEmailBody",
																		"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been approved.<br>\n<br>\n\nRegards,<br>\nAdmin Team</p>"
																	}
																}
															},
															"runAfter": {
																"Delay_10": [
																	"Succeeded"
																]
															},
															"else": {
																"actions": {
																	"If_Rejected_Update_Global_Level_Approval_Task": {
																		"runAfter": {
																			"If_Rejected_Update_task_Status_of_Translation_task": [
																				"Succeeded"
																			]
																		},
																		"type": "ApiConnection",
																		"inputs": {
																			"body": {
																				"body": "{\n\"TASMUTaskStatusInternal\":\"Rejected\"\n}",
																				"headers": {
																					"Accept": "application/json;odata=verbose",
																					"Content-Type": "application/json",
																					"If-Match": "*",
																					"X-HTTP-Method": "MERGE"
																				},
																				"method": "POST",
																				"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_14')?['ID']})"
																			},
																			"host": {
																				"connection": {
																					"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																				}
																			},
																			"method": "post",
																			"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['MarketplaceSiteURL']))}/httprequest"
																		}
																	},
																	"If_Rejected_Update_task_Status_of_1st_Level_Approval_task": {
																		"runAfter": {},
																		"type": "ApiConnection",
																		"inputs": {
																			"body": {
																				"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																				"headers": {
																					"Accept": "application/json;odata=verbose",
																					"Content-Type": "application/json",
																					"If-Match": "*",
																					"X-HTTP-Method": "MERGE"
																				},
																				"method": "POST",
																				"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_7')?['ID']})"
																			},
																			"host": {
																				"connection": {
																					"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																				}
																			},
																			"method": "post",
																			"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																		}
																	},
																	"If_Rejected_Update_task_Status_of_Translation_task": {
																		"runAfter": {
																			"If_Rejected_Update_task_Status_of_1st_Level_Approval_task": [
																				"Succeeded"
																			]
																		},
																		"type": "ApiConnection",
																		"inputs": {
																			"body": {
																				"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																				"headers": {
																					"Accept": "application/json;odata=verbose",
																					"Content-Type": "application/json",
																					"If-Match": "*",
																					"X-HTTP-Method": "MERGE"
																				},
																				"method": "POST",
																				"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
																			},
																			"host": {
																				"connection": {
																					"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																				}
																			},
																			"method": "post",
																			"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																		}
																	},
																	"Send_an_HTTP_request_to_SharePoint_16": {
																		"runAfter": {
																			"If_Rejected_Update_Global_Level_Approval_Task": [
																				"Succeeded"
																			]
																		},
																		"type": "ApiConnection",
																		"inputs": {
																			"body": {
																				"body": "{\n\"ApproverComments\":\"@{variables('GlobalApproverTaskComments')}\",\n\"RequiresTranslation\":\"False\",\n\"Contenuatatus\":\"Rejected\"\n}",
																				"headers": {
																					"Accept": "application/json;odata=verbose",
																					"Content-Type": "application/json",
																					"If-Match": "*",
																					"X-HTTP-Method": "MERGE"
																				},
																				"method": "POST",
																				"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
																			},
																			"host": {
																				"connection": {
																					"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																				}
																			},
																			"method": "post",
																			"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																		}
																	},
																	"Send_an_email_(V2)_13": {
																		"runAfter": {
																			"Set_variable_31": [
																				"Succeeded"
																			]
																		},
																		"type": "ApiConnection",
																		"inputs": {
																			"body": {
																				"Body": "<p>@{variables('EmailBody')}</p>",
																				"Importance": "Normal",
																				"Subject": "Global Approval - @{body('Parse_JSON')?['ItemTitle']}",
																				"To": "@variables('GlobalApproverEmail')"
																			},
																			"host": {
																				"connection": {
																					"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																				}
																			},
																			"method": "post",
																			"path": "/v2/Mail"
																		}
																	},
																	"Send_an_email_(V2)_19": {
																		"runAfter": {
																			"Send_an_email_(V2)_13": [
																				"Succeeded"
																			]
																		},
																		"type": "ApiConnection",
																		"inputs": {
																			"body": {
																				"Body": "<p>@{variables('EditorEmailBody')}</p>",
																				"Subject": "Global Approval - @{body('Parse_JSON')?['ItemTitle']}",
																				"To": "@body('Parse_JSON')?['EditorEmail']"
																			},
																			"host": {
																				"connection": {
																					"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																				}
																			},
																			"method": "post",
																			"path": "/v2/Mail"
																		}
																	},
																	"Set_variable_30": {
																		"runAfter": {
																			"Send_an_HTTP_request_to_SharePoint_16": [
																				"Succeeded"
																			]
																		},
																		"type": "SetVariable",
																		"inputs": {
																			"name": "EmailBody",
																			"value": "<p>Hello Approver,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been rejected.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to view  the content.<br>\n<br>\n\n\nRegards,<br>\nAdmin Team</p>"
																		}
																	},
																	"Set_variable_31": {
																		"runAfter": {
																			"Set_variable_30": [
																				"Succeeded"
																			]
																		},
																		"type": "SetVariable",
																		"inputs": {
																			"name": "EditorEmailBody",
																			"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been rejected.<br>\n<br>\n\nRegards,<br>\nAdmin Team</p>"
																		}
																	}
																}
															},
															"expression": {
																"or": [
																	{
																		"equals": [
																			"@variables('GlobalApproverTaskStatus')",
																			"Approved"
																		]
																	}
																]
															},
															"type": "If"
														},
														"Delay_10": {
															"runAfter": {
																"Until_Global_Approval_task_is_Approved_or_Rejected": [
																	"Succeeded"
																]
															},
															"type": "Wait",
															"inputs": {
																"interval": {
																	"count": 5,
																	"unit": "Second"
																}
															}
														},
														"For_each_2": {
															"foreach": "@body('Parse_JSON_13')?['value']",
															"actions": {
																"Append_to_array_variable_2": {
																	"runAfter": {
																		"Append_to_string_variable_2": [
																			"Succeeded"
																		]
																	},
																	"type": "AppendToArrayVariable",
																	"inputs": {
																		"name": "GlobalApproverUserId",
																		"value": "@items('For_each_2')?['Id']"
																	}
																},
																"Append_to_string_variable_2": {
																	"runAfter": {},
																	"type": "AppendToStringVariable",
																	"inputs": {
																		"name": "GlobalApproverEmail",
																		"value": "@{items('For_each_2')?['Email']};"
																	}
																}
															},
															"runAfter": {
																"Parse_JSON_13": [
																	"Succeeded"
																]
															},
															"type": "Foreach"
														},
														"Parse_JSON_13": {
															"runAfter": {
																"Send_an_HTTP_request_to_SharePoint_12": [
																	"Succeeded"
																]
															},
															"type": "ParseJson",
															"inputs": {
																"content": "@body('Send_an_HTTP_request_to_SharePoint_12')",
																"schema": {
																	"properties": {
																		"value": {
																			"items": {
																				"properties": {
																					"Email": {
																						"type": "string"
																					},
																					"Id": {
																						"type": "integer"
																					}
																				},
																				"required": [
																					"Id",
																					"Email"
																				],
																				"type": "object"
																			},
																			"type": "array"
																		}
																	},
																	"type": "object"
																}
															}
														},
														"Parse_JSON_14": {
															"runAfter": {
																"Add_tasks_to_Global_level_Approvers": [
																	"Succeeded"
																]
															},
															"type": "ParseJson",
															"inputs": {
																"content": "@body('Add_tasks_to_Global_level_Approvers')",
																"schema": {
																	"properties": {
																		"ID": {
																			"type": "integer"
																		},
																		"Id": {
																			"type": "integer"
																		}
																	},
																	"type": "object"
																}
															}
														},
														"Reminder_Email_for_2nd_level_approval": {
															"actions": {
																"Condition_9": {
																	"actions": {},
																	"runAfter": {
																		"Delay_11": [
																			"Succeeded"
																		]
																	},
																	"else": {
																		"actions": {
																			"Delay_12": {
																				"runAfter": {},
																				"type": "Wait",
																				"inputs": {
																					"interval": {
																						"count": 1,
																						"unit": "Day"
																					}
																				}
																			},
																			"Send_an_email_(V2)_7": {
																				"runAfter": {
																					"Delay_12": [
																						"Succeeded"
																					]
																				},
																				"type": "ApiConnection",
																				"inputs": {
																					"body": {
																						"Body": "<p>@{variables('EmailBody')}</p>",
																						"Importance": "High",
																						"Subject": "Gentle Reminder -Global Approval - @{body('Parse_JSON')?['ItemTitle']}",
																						"To": "@variables('GlobalApproverEmail')"
																					},
																					"host": {
																						"connection": {
																							"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																						}
																					},
																					"method": "post",
																					"path": "/v2/Mail"
																				}
																			}
																		}
																	},
																	"expression": {
																		"or": [
																			{
																				"equals": [
																					"@or(equals(variables('GlobalApproverTaskStatus'), 'Approved'), equals(variables('GlobalApproverTaskStatus'), 'Rejected'))",
																					true
																				]
																			}
																		]
																	},
																	"type": "If"
																},
																"Delay_11": {
																	"runAfter": {},
																	"type": "Wait",
																	"inputs": {
																		"interval": {
																			"count": 1,
																			"unit": "Minute"
																		}
																	}
																}
															},
															"runAfter": {
																"Send_an_email_(V2)_17": [
																	"Succeeded"
																]
															},
															"expression": "@equals(or(equals(variables('GlobalApproverTaskStatus'), 'Approved'), equals(variables('GlobalApproverTaskStatus'), 'Rejected')), true)",
															"limit": {
																"count": 60,
																"timeout": "PT1H"
															},
															"type": "Until"
														},
														"Send_an_HTTP_request_to_SharePoint_12": {
															"runAfter": {},
															"type": "ApiConnection",
															"inputs": {
																"body": {
																	"headers": {
																		"Accept": "application/json;odata=nometadata"
																	},
																	"method": "GET",
																	"uri": "_api/web/SiteGroups/GetByName('@{variables('GlobalApproversGroupName')}')/users?$select=Email,Id"
																},
																"host": {
																	"connection": {
																		"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																	}
																},
																"method": "post",
																"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['MarketplaceSiteURL']))}/httprequest"
															}
														},
														"Send_an_email_(V2)_11": {
															"runAfter": {
																"Set_variable_27": [
																	"Succeeded"
																]
															},
															"type": "ApiConnection",
															"inputs": {
																"body": {
																	"Body": "<p>@{variables('EmailBody')}</p>",
																	"Importance": "High",
																	"Subject": "Global Approval - @{body('Parse_JSON')?['ItemTitle']}",
																	"To": "@variables('GlobalApproverEmail')"
																},
																"host": {
																	"connection": {
																		"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																	}
																},
																"method": "post",
																"path": "/v2/Mail"
															}
														},
														"Send_an_email_(V2)_17": {
															"runAfter": {
																"Send_an_email_(V2)_11": [
																	"Succeeded"
																]
															},
															"type": "ApiConnection",
															"inputs": {
																"body": {
																	"Body": "<p>@{variables('EditorEmailBody')}</p>",
																	"Subject": "Global Approval - @{body('Parse_JSON')?['ItemTitle']}",
																	"To": "@body('Parse_JSON')?['EditorEmail']"
																},
																"host": {
																	"connection": {
																		"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																	}
																},
																"method": "post",
																"path": "/v2/Mail"
															}
														},
														"Set_variable_26": {
															"runAfter": {
																"Update_Status_to_Pending_2nd_Level_Approval_in_parent_list": [
																	"Succeeded"
																]
															},
															"type": "SetVariable",
															"inputs": {
																"name": "EmailBody",
																"value": "<p>Hello Approver,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been received for approval.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to review  the content.<br>\n<br>\n\nclick <a href=\"@{body('Parse_JSON')?['MarketplaceSiteURL']}/Lists/MyTasks/EditForm.aspx?ID=@{body('Parse_JSON_14')?['ID']}\">here</a> to view the task and take neccessary action.\n<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
															}
														},
														"Set_variable_27": {
															"runAfter": {
																"Set_variable_26": [
																	"Succeeded"
																]
															},
															"type": "SetVariable",
															"inputs": {
																"name": "EditorEmailBody",
																"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been received for approval.<br>\n<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
															}
														},
														"Until_Global_Approval_task_is_Approved_or_Rejected": {
															"actions": {
																"Delay_4": {
																	"runAfter": {},
																	"type": "Wait",
																	"inputs": {
																		"interval": {
																			"count": 10,
																			"unit": "Second"
																		}
																	}
																},
																"Parse_JSON_15": {
																	"runAfter": {
																		"Send_an_HTTP_request_to_SharePoint_14": [
																			"Succeeded"
																		]
																	},
																	"type": "ParseJson",
																	"inputs": {
																		"content": "@body('Send_an_HTTP_request_to_SharePoint_14')",
																		"schema": {
																			"properties": {
																				"TASMUTaskStatus": {
																					"type": [
																						"string",
																						"null"
																					]
																				},
																				"TASMUTaskStatusInternal": {
																					"type": [
																						"string",
																						"null"
																					]
																				},
																				"TaskComments": {
																					"type": [
																						"string",
																						"null"
																					]
																				}
																			},
																			"type": "object"
																		}
																	}
																},
																"Send_an_HTTP_request_to_SharePoint_14": {
																	"runAfter": {
																		"Delay_4": [
																			"Succeeded"
																		]
																	},
																	"type": "ApiConnection",
																	"inputs": {
																		"body": {
																			"headers": {
																				"Accept": "application/json"
																			},
																			"method": "GET",
																			"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/items(@{body('Parse_JSON_14')?['ID']})?$select=TASMUTaskStatusInternal,TaskComments,TASMUTaskStatus"
																		},
																		"host": {
																			"connection": {
																				"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																			}
																		},
																		"method": "post",
																		"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['MarketplaceSiteURL']))}/httprequest"
																	}
																},
																"Set_variable_10": {
																	"runAfter": {
																		"Parse_JSON_15": [
																			"Succeeded"
																		]
																	},
																	"type": "SetVariable",
																	"inputs": {
																		"name": "GlobalApproverTaskStatus",
																		"value": "@body('Parse_JSON_15')?['TASMUTaskStatus']"
																	}
																},
																"Set_variable_11": {
																	"runAfter": {
																		"Set_variable_10": [
																			"Succeeded"
																		]
																	},
																	"type": "SetVariable",
																	"inputs": {
																		"name": "GlobalApproverTaskComments",
																		"value": "@body('Parse_JSON_15')?['TaskComments']"
																	}
																}
															},
															"runAfter": {
																"Send_an_email_(V2)_17": [
																	"Succeeded"
																]
															},
															"expression": "@equals(or(equals(variables('GlobalApproverTaskStatus'), 'Approved'), equals(variables('GlobalApproverTaskStatus'), 'Rejected')), true)",
															"limit": {
																"count": 2900,
																"timeout": "P1M"
															},
															"type": "Until"
														},
														"Update_Status_to_Pending_2nd_Level_Approval_in_parent_list": {
															"runAfter": {
																"Parse_JSON_14": [
																	"Succeeded"
																]
															},
															"type": "ApiConnection",
															"inputs": {
																"body": {
																	"body": "{\n\"Contenuatatus\":\"Pending 2nd Level Approval\"\n}",
																	"headers": {
																		"Accept": "application/json;odata=verbose",
																		"Content-Type": "application/json",
																		"If-Match": "*",
																		"X-HTTP-Method": "MERGE"
																	},
																	"method": "POST",
																	"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
																},
																"host": {
																	"connection": {
																		"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																	}
																},
																"method": "post",
																"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
															}
														}
													},
													"runAfter": {
														"Condition_to_check_if_2nd_level_approval_is_required_or_not": [
															"Succeeded"
														]
													},
													"else": {
														"actions": {
															"Close_the_Approval_task_if_2nd_level_not_required": {
																"runAfter": {},
																"type": "ApiConnection",
																"inputs": {
																	"body": {
																		"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																		"headers": {
																			"Accept": "application/json;odata=nometadata",
																			"Content-Type": "application/json",
																			"If-Match": "*",
																			"X-HTTP-Method": "MERGE"
																		},
																		"method": "POST",
																		"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_7')?['ID']})"
																	},
																	"host": {
																		"connection": {
																			"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																		}
																	},
																	"method": "post",
																	"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																}
															},
															"Close_the_Translation_task_if_2nd_level_not_required": {
																"runAfter": {
																	"Close_the_Approval_task_if_2nd_level_not_required": [
																		"Succeeded"
																	]
																},
																"type": "ApiConnection",
																"inputs": {
																	"body": {
																		"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																		"headers": {
																			"Accept": "application/json;odata=nometadata",
																			"Content-Type": "application/json",
																			"If-Match": "*",
																			"X-HTTP-Method": "MERGE"
																		},
																		"method": "POST",
																		"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
																	},
																	"host": {
																		"connection": {
																			"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																		}
																	},
																	"method": "post",
																	"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
																}
															}
														}
													},
													"expression": {
														"and": [
															{
																"equals": [
																	"@variables('2ndLevelApprovalRequired')",
																	"Yes"
																]
															}
														]
													},
													"type": "If"
												}
											},
											"runAfter": {
												"Parse_JSON_18": [
													"Succeeded"
												]
											},
											"else": {
												"actions": {
													"Close_Approval_task": {
														"runAfter": {},
														"type": "ApiConnection",
														"inputs": {
															"body": {
																"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																"headers": {
																	"Accept": "application/json;odata=nometadata",
																	"Content-Type": "application/json",
																	"If-Match": "*",
																	"X-HTTP-Method": "MERGE"
																},
																"method": "POST",
																"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_7')?['ID']})"
															},
															"host": {
																"connection": {
																	"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																}
															},
															"method": "post",
															"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
														}
													},
													"Close_Translation_Task": {
														"runAfter": {
															"Close_Approval_task": [
																"Succeeded"
															]
														},
														"type": "ApiConnection",
														"inputs": {
															"body": {
																"body": "{\n\"TASMUTaskStatusInternal\":\"Completed\"\n}",
																"headers": {
																	"Accept": "application/json;odata=nometadata",
																	"Content-Type": "application/json",
																	"If-Match": "*",
																	"X-HTTP-Method": "MERGE"
																},
																"method": "POST",
																"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
															},
															"host": {
																"connection": {
																	"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
																}
															},
															"method": "post",
															"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
														}
													}
												}
											},
											"expression": {
												"or": [
													{
														"equals": [
															"@variables('ConfigSiteLevel')",
															"Sector"
														]
													},
													{
														"equals": [
															"@variables('ConfigSiteLevel')",
															"Entity"
														]
													}
												]
											},
											"type": "If"
										},
										"For_each_4": {
											"foreach": "@body('Parse_JSON_19')?['value']",
											"actions": {
												"Set_variable_16": {
													"runAfter": {},
													"type": "SetVariable",
													"inputs": {
														"name": "ConfigSiteLevel",
														"value": "@items('For_each_4')?['SiteLevel']"
													}
												},
												"Set_variable_17": {
													"runAfter": {
														"Set_variable_16": [
															"Succeeded"
														]
													},
													"type": "SetVariable",
													"inputs": {
														"name": "ConfigSectorName",
														"value": "@items('For_each_4')?['Sector']"
													}
												},
												"Set_variable_18": {
													"runAfter": {
														"Set_variable_17": [
															"Succeeded"
														]
													},
													"type": "SetVariable",
													"inputs": {
														"name": "ConfigEnityName",
														"value": "@items('For_each_4')?['Entity']"
													}
												}
											},
											"runAfter": {
												"Parse_JSON_19": [
													"Succeeded"
												]
											},
											"type": "Foreach"
										},
										"Parse_JSON_18": {
											"runAfter": {
												"Send_an_HTTP_request_to_SharePoint_17": [
													"Succeeded"
												]
											},
											"type": "ParseJson",
											"inputs": {
												"content": "@body('Send_an_HTTP_request_to_SharePoint_17')",
												"schema": {
													"properties": {
														"ContentTier": {
															"type": "string"
														},
														"Entities": {
															"items": {
																"properties": {
																	"Label": {
																		"type": "string"
																	},
																	"TermGuid": {
																		"type": "string"
																	},
																	"WssId": {
																		"type": "integer"
																	}
																},
																"required": [
																	"Label",
																	"TermGuid",
																	"WssId"
																],
																"type": "object"
															},
															"type": "array"
														},
														"Sectors": {
															"items": {
																"properties": {
																	"Label": {
																		"type": "string"
																	},
																	"TermGuid": {
																		"type": "string"
																	},
																	"WssId": {
																		"type": "integer"
																	}
																},
																"required": [
																	"Label",
																	"TermGuid",
																	"WssId"
																],
																"type": "object"
															},
															"type": "array"
														}
													},
													"type": "object"
												}
											}
										},
										"Parse_JSON_19": {
											"runAfter": {
												"Send_an_HTTP_request_to_SharePoint_6": [
													"Succeeded"
												]
											},
											"type": "ParseJson",
											"inputs": {
												"content": "@body('Send_an_HTTP_request_to_SharePoint_6')",
												"schema": {
													"properties": {
														"value": {
															"items": {
																"properties": {
																	"Entity": {
																		"type": [
																			"string",
																			"null"
																		]
																	},
																	"Sector": {
																		"type": [
																			"string",
																			"null"
																		]
																	},
																	"SiteLevel": {
																		"type": [
																			"string",
																			"null"
																		]
																	}
																},
																"required": [
																	"SiteLevel",
																	"Sector",
																	"Entity"
																],
																"type": "object"
															},
															"type": "array"
														}
													},
													"type": "object"
												}
											}
										},
										"Send_an_HTTP_request_to_SharePoint_17": {
											"runAfter": {
												"For_each_4": [
													"Succeeded"
												]
											},
											"type": "ApiConnection",
											"inputs": {
												"body": {
													"headers": {
														"Accept": "application/json"
													},
													"method": "GET",
													"uri": "/_api/web/lists/getbytitle('@{body('Parse_JSON')?['ListName']}')/items(@{body('Parse_JSON')?['ItemId']})?$select=ContentTier,Sectors,Entities"
												},
												"host": {
													"connection": {
														"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
													}
												},
												"method": "post",
												"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
											}
										},
										"Send_an_HTTP_request_to_SharePoint_4": {
											"runAfter": {},
											"type": "ApiConnection",
											"inputs": {
												"body": {
													"body": "{\n\"ApproverComments\":\"@{variables('ApproverTaskComments')}\",\n\"Contenuatatus\":\"Approved\"\n}",
													"headers": {
														"Accept": "application/json;odata=verbose",
														"Content-Type": "application/json",
														"If-Match": "*",
														"X-HTTP-Method": "MERGE"
													},
													"method": "POST",
													"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
												},
												"host": {
													"connection": {
														"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
													}
												},
												"method": "post",
												"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
											}
										},
										"Send_an_HTTP_request_to_SharePoint_6": {
											"runAfter": {
												"Send_an_email_(V2)_16": [
													"Succeeded"
												]
											},
											"type": "ApiConnection",
											"inputs": {
												"body": {
													"headers": {
														"Accept": "application/json"
													},
													"method": "GET",
													"uri": "/_api/web/lists/getbytitle('@{body('Parse_JSON')?['GlobalConfigList']}')/items?$select=SiteLevel,Sector,Entity&$filter=SiteURL eq '@{body('Parse_JSON')?['SiteURL']}'"
												},
												"host": {
													"connection": {
														"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
													}
												},
												"method": "post",
												"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['GlobalSiteURL']))}/httprequest"
											}
										},
										"Send_an_email_(V2)_16": {
											"runAfter": {
												"Send_an_email_(V2)_4": [
													"Succeeded"
												]
											},
											"type": "ApiConnection",
											"inputs": {
												"body": {
													"Body": "<p>@{variables('EditorEmailBody')}</p>",
													"Subject": "Approved - @{body('Parse_JSON')?['ItemTitle']}",
													"To": "@body('Parse_JSON')?['EditorEmail']"
												},
												"host": {
													"connection": {
														"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
													}
												},
												"method": "post",
												"path": "/v2/Mail"
											}
										},
										"Send_an_email_(V2)_4": {
											"runAfter": {
												"Set_variable_25": [
													"Succeeded"
												]
											},
											"type": "ApiConnection",
											"inputs": {
												"body": {
													"Body": "<p>@{variables('EmailBody')}</p>",
													"Importance": "Normal",
													"Subject": "Approved - @{body('Parse_JSON')?['ItemTitle']}",
													"To": "@variables('ApproverEmail')"
												},
												"host": {
													"connection": {
														"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
													}
												},
												"method": "post",
												"path": "/v2/Mail"
											}
										},
										"Set_variable_23": {
											"runAfter": {
												"Send_an_HTTP_request_to_SharePoint_4": [
													"Succeeded"
												]
											},
											"type": "SetVariable",
											"inputs": {
												"name": "EmailBody",
												"value": "<p>Hello Approver,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been approved.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to view  the content.<br>\n<br>\n\n\nRegards,<br>\nAdmin Team</p>"
											}
										},
										"Set_variable_25": {
											"runAfter": {
												"Set_variable_23": [
													"Succeeded"
												]
											},
											"type": "SetVariable",
											"inputs": {
												"name": "EditorEmailBody",
												"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been approved.<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
											}
										}
									},
									"runAfter": {
										"Delay_8": [
											"Succeeded"
										]
									},
									"else": {
										"actions": {
											"If_Approval_Rejected_Then_Update_the_task_status_of_Approval_Task": {
												"runAfter": {},
												"type": "ApiConnection",
												"inputs": {
													"body": {
														"body": "{\n\"TASMUTaskStatusInternal\":\"Rejected\"\n}",
														"headers": {
															"Accept": "application/json;odata=verbose",
															"Content-Type": "application/json",
															"If-Match": "*",
															"X-HTTP-Method": "MERGE"
														},
														"method": "POST",
														"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_7')?['ID']})"
													},
													"host": {
														"connection": {
															"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
														}
													},
													"method": "post",
													"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
												}
											},
											"If_Approval_Rejected_Then_Update_the_task_status_of_TranslationTask": {
												"runAfter": {
													"If_Approval_Rejected_Then_Update_the_task_status_of_Approval_Task": [
														"Succeeded"
													]
												},
												"type": "ApiConnection",
												"inputs": {
													"body": {
														"body": "{\n\"TASMUTaskStatusInternal\":\"Rejected\"\n}",
														"headers": {
															"Accept": "application/json;odata=verbose",
															"Content-Type": "application/json",
															"If-Match": "*",
															"X-HTTP-Method": "MERGE"
														},
														"method": "POST",
														"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
													},
													"host": {
														"connection": {
															"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
														}
													},
													"method": "post",
													"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
												}
											},
											"Send_an_HTTP_request_to_SharePoint_5": {
												"runAfter": {
													"If_Approval_Rejected_Then_Update_the_task_status_of_TranslationTask": [
														"Succeeded"
													]
												},
												"type": "ApiConnection",
												"inputs": {
													"body": {
														"body": "{\n\"ApproverComments\":\"Task action Rejected at 1 level.\",\n\"Contenuatatus\":\"Rejected\"\n}",
														"headers": {
															"Accept": "application/json;odata=verbose",
															"Content-Type": "application/json",
															"If-Match": "*",
															"X-HTTP-Method": "MERGE"
														},
														"method": "POST",
														"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
													},
													"host": {
														"connection": {
															"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
														}
													},
													"method": "post",
													"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
												}
											},
											"Send_an_email_(V2)_20": {
												"runAfter": {
													"Send_an_email_(V2)_3": [
														"Succeeded"
													]
												},
												"type": "ApiConnection",
												"inputs": {
													"body": {
														"Body": "<p>@{variables('EditorEmailBody')}</p>",
														"Importance": "High",
														"Subject": "Approval Rejected - @{body('Parse_JSON')?['ItemTitle']}",
														"To": "@body('Parse_JSON')?['EditorEmail']"
													},
													"host": {
														"connection": {
															"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
														}
													},
													"method": "post",
													"path": "/v2/Mail"
												}
											},
											"Send_an_email_(V2)_3": {
												"runAfter": {
													"Set_variable_32": [
														"Succeeded"
													]
												},
												"type": "ApiConnection",
												"inputs": {
													"body": {
														"Body": "<p>@{variables('EmailBody')}</p>",
														"Importance": "High",
														"Subject": "Approval Rejected - @{body('Parse_JSON')?['ItemTitle']}",
														"To": "@variables('ApproverEmail')"
													},
													"host": {
														"connection": {
															"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
														}
													},
													"method": "post",
													"path": "/v2/Mail"
												}
											},
											"Set_variable_22": {
												"runAfter": {
													"Send_an_HTTP_request_to_SharePoint_5": [
														"Succeeded"
													]
												},
												"type": "SetVariable",
												"inputs": {
													"name": "EmailBody",
													"value": "<p>Hello Approver,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been rejected.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to view  the content.<br>\n<br>\n\n\nRegards,<br>\nAdmin Team</p>"
												}
											},
											"Set_variable_32": {
												"runAfter": {
													"Set_variable_22": [
														"Succeeded"
													]
												},
												"type": "SetVariable",
												"inputs": {
													"name": "EditorEmailBody",
													"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been rejected.<br>\n<br>\n\nRegards,<br>\nAdmin Team</p>"
												}
											}
										}
									},
									"expression": {
										"or": [
											{
												"equals": [
													"@variables('ApproverTaskStatus')",
													"Approved"
												]
											}
										]
									},
									"type": "If"
								},
								"Delay_8": {
									"runAfter": {
										"Until_Approval_task_is_Approved": [
											"Succeeded"
										]
									},
									"type": "Wait",
									"inputs": {
										"interval": {
											"count": 5,
											"unit": "Second"
										}
									}
								},
								"For_each_loop_for_adding_emails_of_all_users_of_Approvers_group_in_a_variable": {
									"foreach": "@body('Parse_JSON_6')?['value']",
									"actions": {
										"Append_to_array_variable_ApproverUserId": {
											"runAfter": {
												"Append_to_string_variable_ApproverEmail": [
													"Succeeded"
												]
											},
											"type": "AppendToArrayVariable",
											"inputs": {
												"name": "ApproverUserId",
												"value": "@items('For_each_loop_for_adding_emails_of_all_users_of_Approvers_group_in_a_variable')?['Id']"
											}
										},
										"Append_to_string_variable_ApproverEmail": {
											"runAfter": {},
											"type": "AppendToStringVariable",
											"inputs": {
												"name": "ApproverEmail",
												"value": "@{items('For_each_loop_for_adding_emails_of_all_users_of_Approvers_group_in_a_variable')?['Email']};"
											}
										}
									},
									"runAfter": {
										"Parse_JSON_6": [
											"Succeeded"
										]
									},
									"type": "Foreach"
								},
								"Get_users_from_SharePoint_Approvers_Group": {
									"runAfter": {
										"Send_an_email_(V2)_9": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"headers": {
												"Accept": "application/json;odata=nometadata"
											},
											"method": "GET",
											"uri": "_api/web/SiteGroups/GetByName('@{variables('ApproversGroupName')}')/users?$select=Email,Id"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								},
								"Parse_JSON_6": {
									"runAfter": {
										"Get_users_from_SharePoint_Approvers_Group": [
											"Succeeded"
										]
									},
									"type": "ParseJson",
									"inputs": {
										"content": "@body('Get_users_from_SharePoint_Approvers_Group')",
										"schema": {
											"properties": {
												"value": {
													"items": {
														"properties": {
															"Email": {
																"type": "string"
															},
															"Id": {
																"type": "integer"
															}
														},
														"required": [
															"Id",
															"Email"
														],
														"type": "object"
													},
													"type": "array"
												}
											},
											"type": "object"
										}
									}
								},
								"Parse_JSON_7": {
									"runAfter": {
										"Add_task_to_users_for_Approval": [
											"Succeeded"
										]
									},
									"type": "ParseJson",
									"inputs": {
										"content": "@body('Add_task_to_users_for_Approval')",
										"schema": {
											"properties": {
												"ID": {
													"type": "integer"
												},
												"Id": {
													"type": "integer"
												}
											},
											"type": "object"
										}
									}
								},
								"Reminder_email_for_Approval_or_Rejection": {
									"actions": {
										"Condition_7": {
											"actions": {},
											"runAfter": {
												"Delay_7": [
													"Succeeded"
												]
											},
											"else": {
												"actions": {
													"Delay_9": {
														"runAfter": {},
														"type": "Wait",
														"inputs": {
															"interval": {
																"count": 1,
																"unit": "Day"
															}
														}
													},
													"Send_an_email_(V2)_6": {
														"runAfter": {
															"Delay_9": [
																"Succeeded"
															]
														},
														"type": "ApiConnection",
														"inputs": {
															"body": {
																"Body": "<p>@{variables('EmailBody')}</p>",
																"Importance": "High",
																"Subject": "Gentle Reminder- Approval Request - @{body('Parse_JSON')?['ItemTitle']}",
																"To": "@variables('ApproverEmail')"
															},
															"host": {
																"connection": {
																	"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
																}
															},
															"method": "post",
															"path": "/v2/Mail"
														}
													}
												}
											},
											"expression": {
												"or": [
													{
														"equals": [
															"@or(equals(variables('ApproverTaskStatus'), 'Approved'), equals(variables('ApproverTaskStatus'), 'Rejected'))",
															true
														]
													}
												]
											},
											"type": "If"
										},
										"Delay_7": {
											"runAfter": {},
											"type": "Wait",
											"inputs": {
												"interval": {
													"count": 1,
													"unit": "Minute"
												}
											}
										}
									},
									"runAfter": {
										"Send_an_email_(V2)_14": [
											"Succeeded"
										]
									},
									"expression": "@equals(or(equals(variables('ApproverTaskStatus'), 'Approved'), equals(variables('ApproverTaskStatus'), 'Rejected')), true)",
									"limit": {
										"count": 60,
										"timeout": "PT1H"
									},
									"type": "Until"
								},
								"Send_an_HTTP_request_to_SharePoint_2": {
									"runAfter": {
										"Send_an_HTTP_request_to_SharePoint_8": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"body": "{\n\"ApproverComments\":\"@{variables('TranslatorTaskComments')}\",\n\"RequiresTranslation\":\"False\",\n\"Contenuatatus\":\"Translated\"\n}",
											"headers": {
												"Accept": "application/json;odata=verbose",
												"Content-Type": "application/json",
												"If-Match": "*",
												"X-HTTP-Method": "MERGE"
											},
											"method": "POST",
											"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								},
								"Send_an_HTTP_request_to_SharePoint_8": {
									"runAfter": {},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"body": "{\n\"TASMUTaskStatusInternal\":\"Active\"\n}",
											"headers": {
												"Accept": "application/json;odata=verbose",
												"Content-Type": "application/json",
												"If-Match": "*",
												"X-HTTP-Method": "MERGE"
											},
											"method": "POST",
											"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								},
								"Send_an_email_(V2)_10": {
									"runAfter": {
										"Set_variable_15": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"Body": "<p>@{variables('EmailBody')}</p>",
											"Importance": "High",
											"Subject": "Translation Completed - @{body('Parse_JSON')?['ItemTitle']}",
											"To": "@variables('TranslatorsEmail')"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/v2/Mail"
									}
								},
								"Send_an_email_(V2)_14": {
									"runAfter": {
										"Send_an_email_(V2)_2": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"Body": "<p>@{variables('EditorEmailBody')}</p>",
											"Subject": "Approval Request - @{body('Parse_JSON')?['ItemTitle']}",
											"To": "@body('Parse_JSON')?['EditorEmail']"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/v2/Mail"
									}
								},
								"Send_an_email_(V2)_2": {
									"runAfter": {
										"Set_variable_24": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"Body": "<p>@{variables('EmailBody')}</p>",
											"Importance": "High",
											"Subject": "Approval Request - @{body('Parse_JSON')?['ItemTitle']}",
											"To": "@variables('ApproverEmail')"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/v2/Mail"
									}
								},
								"Send_an_email_(V2)_9": {
									"runAfter": {
										"Send_an_email_(V2)_10": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"Body": "<p>@{variables('EditorEmailBody')}</p>",
											"Subject": "Translation Completed - @{body('Parse_JSON')?['ItemTitle']}",
											"To": "@body('Parse_JSON')?['EditorEmail']"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/v2/Mail"
									}
								},
								"Set_variable_15": {
									"runAfter": {
										"Set_variable_20": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "EditorEmailBody",
										"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been translated.<br>\n<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
									}
								},
								"Set_variable_20": {
									"runAfter": {
										"Send_an_HTTP_request_to_SharePoint_2": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "EmailBody",
										"value": "<p>Hello Translator,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been translated.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to view the translated content. <br>\n<br>\n\nRegards,<br>\nAdmin Team</p>"
									}
								},
								"Set_variable_21": {
									"runAfter": {
										"Update_status_to_Pending_Approval_in_Parent_list_item": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "EmailBody",
										"value": "<p>Hello Approver,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been received for approval.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to review  the content.<br>\n<br>\n\nclick <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/MyTasks/EditForm.aspx?ID=@{body('Parse_JSON_7')?['ID']}\">here</a> to view the task and take neccessary action.\n<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
									}
								},
								"Set_variable_24": {
									"runAfter": {
										"Set_variable_21": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "EditorEmailBody",
										"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been received for approval.<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
									}
								},
								"Until_Approval_task_is_Approved": {
									"actions": {
										"Delay_3": {
											"runAfter": {},
											"type": "Wait",
											"inputs": {
												"interval": {
													"count": 10,
													"unit": "Second"
												}
											}
										},
										"Parse_JSON_8": {
											"runAfter": {
												"Send_an_HTTP_request_to_SharePoint_3": [
													"Succeeded"
												]
											},
											"type": "ParseJson",
											"inputs": {
												"content": "@body('Send_an_HTTP_request_to_SharePoint_3')",
												"schema": {
													"properties": {
														"TASMUTaskStatus": {
															"type": [
																"string",
																"null"
															]
														},
														"TASMUTaskStatusInternal": {
															"type": [
																"string",
																"null"
															]
														},
														"TaskComments": {
															"type": [
																"string",
																"null"
															]
														}
													},
													"type": "object"
												}
											}
										},
										"Send_an_HTTP_request_to_SharePoint_3": {
											"runAfter": {
												"Delay_3": [
													"Succeeded"
												]
											},
											"type": "ApiConnection",
											"inputs": {
												"body": {
													"headers": {
														"Accept": "application/json"
													},
													"method": "GET",
													"uri": "/_api/web/lists/getbytitle('@{variables('MyTasksList')}')/items(@{body('Parse_JSON_7')?['ID']})?$select=TASMUTaskStatusInternal,TaskComments,TASMUTaskStatus"
												},
												"host": {
													"connection": {
														"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
													}
												},
												"method": "post",
												"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
											}
										},
										"Set_variable_4": {
											"runAfter": {
												"Parse_JSON_8": [
													"Succeeded"
												]
											},
											"type": "SetVariable",
											"inputs": {
												"name": "ApproverTaskStatus",
												"value": "@body('Parse_JSON_8')?['TASMUTaskStatus']"
											}
										},
										"Set_variable_5": {
											"runAfter": {
												"Set_variable_4": [
													"Succeeded"
												]
											},
											"type": "SetVariable",
											"inputs": {
												"name": "ApproverTaskComments",
												"value": "@body('Parse_JSON_8')?['TaskComments']"
											}
										}
									},
									"runAfter": {
										"Send_an_email_(V2)_14": [
											"Succeeded"
										]
									},
									"expression": "@equals(or(equals(variables('ApproverTaskStatus'), 'Approved'), equals(variables('ApproverTaskStatus'), 'Rejected')), true)",
									"limit": {
										"count": 2900,
										"timeout": "P1M"
									},
									"type": "Until"
								},
								"Update_status_to_Pending_Approval_in_Parent_list_item": {
									"runAfter": {
										"Parse_JSON_7": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"body": "{\n\"Contenuatatus\":\"Pending Approval\"\n}",
											"headers": {
												"Accept": "application/json;odata=verbose",
												"Content-Type": "application/json",
												"If-Match": "*",
												"X-HTTP-Method": "MERGE"
											},
											"method": "POST",
											"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								}
							},
							"runAfter": {
								"Delay_6": [
									"Succeeded"
								]
							},
							"else": {
								"actions": {
									"Send_an_HTTP_request_to_SharePoint_19": {
										"runAfter": {},
										"type": "ApiConnection",
										"inputs": {
											"body": {
												"body": "{\n\"TaskStatus\":\"Rejected\",\n\"Status\":\"Rejected\"\n}",
												"headers": {
													"Accept": "application/json;odata=verbose",
													"Content-Type": "application/json",
													"If-Match": "*",
													"X-HTTP-Method": "MERGE"
												},
												"method": "POST",
												"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
											},
											"host": {
												"connection": {
													"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
												}
											},
											"method": "post",
											"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
										}
									}
								}
							},
							"expression": {
								"or": [
									{
										"equals": [
											"@variables('TranslatorTaskStatus')",
											"Finish Translation"
										]
									}
								]
							},
							"type": "If"
						},
						"Delay_16": {
							"runAfter": {
								"Until_any_translator_takes_Translation_task_ownership_Start_Translation": [
									"Succeeded"
								]
							},
							"type": "Wait",
							"inputs": {
								"interval": {
									"count": 10,
									"unit": "Second"
								}
							}
						},
						"Delay_6": {
							"runAfter": {
								"Until_Translation_Task_is_marked_as_Finish_Translation": [
									"Succeeded"
								]
							},
							"type": "Wait",
							"inputs": {
								"interval": {
									"count": 6,
									"unit": "Second"
								}
							}
						},
						"For_each": {
							"foreach": "@body('Parse_JSON_10')?['value']",
							"actions": {
								"Set_variable_33": {
									"runAfter": {},
									"type": "SetVariable",
									"inputs": {
										"name": "TranslationContentTypeId",
										"value": "@items('For_each')?['StringId']"
									}
								}
							},
							"runAfter": {
								"Parse_JSON_10": [
									"Succeeded"
								]
							},
							"type": "Foreach"
						},
						"For_each_loop_for_adding_emails_of_all_users_of_group_in_a_variable": {
							"foreach": "@body('Parse_JSON_2')?['value']",
							"actions": {
								"Append_to_array_variable": {
									"runAfter": {
										"Append_to_string_variable": [
											"Succeeded"
										]
									},
									"type": "AppendToArrayVariable",
									"inputs": {
										"name": "TranslatorsUserId",
										"value": "@items('For_each_loop_for_adding_emails_of_all_users_of_group_in_a_variable')?['Id']"
									}
								},
								"Append_to_string_variable": {
									"runAfter": {},
									"type": "AppendToStringVariable",
									"inputs": {
										"name": "TranslatorsEmail",
										"value": "@{items('For_each_loop_for_adding_emails_of_all_users_of_group_in_a_variable')?['Email']};"
									}
								}
							},
							"runAfter": {
								"Parse_JSON_2": [
									"Succeeded"
								]
							},
							"type": "Foreach"
						},
						"Get_the_ContentType_ID_for_the_Translation_task_assignment": {
							"runAfter": {
								"For_each_loop_for_adding_emails_of_all_users_of_group_in_a_variable": [
									"Succeeded"
								]
							},
							"type": "ApiConnection",
							"inputs": {
								"body": {
									"headers": {
										"Accept": "application/json;odata=nometadata"
									},
									"method": "GET",
									"uri": "/_api/web/Lists/getbytitle('@{variables('MyTasksList')}')/contenttypes?$filter=Name eq 'TASMU MyTask Translator'&$top=1&$select=StringId"
								},
								"host": {
									"connection": {
										"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
									}
								},
								"method": "post",
								"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
							}
						},
						"Get_users_from_SharePoint_Translators_Group": {
							"runAfter": {},
							"type": "ApiConnection",
							"inputs": {
								"body": {
									"headers": {
										"Accept": "application/json;odata=nometadata"
									},
									"method": "GET",
									"uri": "_api/web/SiteGroups/GetByName('@{variables('TranslatorsGroupName')}')/users?$select=Email,Id"
								},
								"host": {
									"connection": {
										"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
									}
								},
								"method": "post",
								"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
							}
						},
						"Parse_JSON_10": {
							"runAfter": {
								"Get_the_ContentType_ID_for_the_Translation_task_assignment": [
									"Succeeded"
								]
							},
							"type": "ParseJson",
							"inputs": {
								"content": "@body('Get_the_ContentType_ID_for_the_Translation_task_assignment')",
								"schema": {
									"properties": {
										"value": {
											"items": {
												"properties": {
													"StringId": {
														"type": "string"
													}
												},
												"required": [
													"StringId"
												],
												"type": "object"
											},
											"type": "array"
										}
									},
									"type": "object"
								}
							}
						},
						"Parse_JSON_2": {
							"runAfter": {
								"Get_users_from_SharePoint_Translators_Group": [
									"Succeeded"
								]
							},
							"type": "ParseJson",
							"inputs": {
								"content": "@body('Get_users_from_SharePoint_Translators_Group')",
								"schema": {
									"properties": {
										"value": {
											"items": {
												"properties": {
													"Email": {
														"type": "string"
													},
													"Id": {
														"type": "integer"
													}
												},
												"required": [
													"Id",
													"Email"
												],
												"type": "object"
											},
											"type": "array"
										}
									},
									"type": "object"
								}
							}
						},
						"Parse_JSON_3": {
							"runAfter": {
								"Add_task_to_all_Translators_for_Translation": [
									"Succeeded"
								]
							},
							"type": "ParseJson",
							"inputs": {
								"content": "@body('Add_task_to_all_Translators_for_Translation')",
								"schema": {
									"properties": {
										"ID": {
											"type": "integer"
										},
										"Id": {
											"type": "integer"
										}
									},
									"type": "object"
								}
							}
						},
						"Re_Assign_the_Translation_task_to_one_Translator": {
							"runAfter": {
								"Set_variable_38": [
									"Succeeded"
								]
							},
							"type": "ApiConnection",
							"inputs": {
								"body": {
									"body": "{\n\"AssignedToId\":[@{variables('TranslationOwnerEmail')}]\n}",
									"headers": {
										"Accept": "application/json;odata=verbose",
										"Content-Type": "application/json",
										"If-Match": "*",
										"X-HTTP-Method": "MERGE"
									},
									"method": "POST",
									"uri": "/_api/web/lists/GetByTitle('@{variables('MyTasksList')}')/GetItemById(@{body('Parse_JSON_3')?['ID']})"
								},
								"host": {
									"connection": {
										"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
									}
								},
								"method": "post",
								"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
							}
						},
						"Send_an_email_(V2)": {
							"runAfter": {
								"Set_variable_12": [
									"Succeeded"
								]
							},
							"type": "ApiConnection",
							"inputs": {
								"body": {
									"Body": "<p>@{variables('EmailBody')}</p>",
									"Importance": "High",
									"Subject": "Translation Request - @{body('Parse_JSON')?['ItemTitle']}",
									"To": "@variables('TranslatorsEmail')"
								},
								"host": {
									"connection": {
										"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
									}
								},
								"method": "post",
								"path": "/v2/Mail"
							}
						},
						"Send_an_email_(V2)_8": {
							"runAfter": {
								"Send_an_email_(V2)": [
									"Succeeded"
								]
							},
							"type": "ApiConnection",
							"inputs": {
								"body": {
									"Body": "<p>@{variables('EditorEmailBody')}</p>",
									"Subject": "Translation Request - @{body('Parse_JSON')?['ItemTitle']}",
									"To": "@body('Parse_JSON')?['EditorEmail']"
								},
								"host": {
									"connection": {
										"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
									}
								},
								"method": "post",
								"path": "/v2/Mail"
							}
						},
						"Set_variable_12": {
							"runAfter": {
								"Set_variable_19": [
									"Succeeded"
								]
							},
							"type": "SetVariable",
							"inputs": {
								"name": "EditorEmailBody",
								"value": "<p>Hello Editor,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been received for translation.<br>\n<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
							}
						},
						"Set_variable_19": {
							"runAfter": {
								"Update_status_to_Pending_Translation_in_Parent_list": [
									"Succeeded"
								]
							},
							"type": "SetVariable",
							"inputs": {
								"name": "EmailBody",
								"value": "<p>Hello Translator,<br>\n<br>\nPlease note , <b>\"@{body('Parse_JSON')?['ItemTitle']}\"</b> item has been received for translation.<br>\n<br>\nPlease visit �Item <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/@{body('Parse_JSON')?['ListName']}/EditForm.aspx?ID=@{body('Parse_JSON')?['ItemId']}\">Link</a> �to review or update translation.<br>\n<br>\n\nclick <a href=\"@{body('Parse_JSON')?['SiteURL']}/Lists/MyTasks/EditForm.aspx?ID=@{body('Parse_JSON_3')?['ID']}\">here</a> to view the task\n<br>\n<br>\nRegards,<br>\nAdmin Team</p>"
							}
						},
						"Set_variable_38": {
							"runAfter": {
								"Delay_16": [
									"Succeeded"
								]
							},
							"type": "SetVariable",
							"inputs": {
								"name": "TranslationOwnershipCompleted",
								"value": "Yes"
							}
						},
						"Until": {
							"actions": {
								"Condition_4": {
									"actions": {},
									"runAfter": {
										"Delay_5": [
											"Succeeded"
										]
									},
									"else": {
										"actions": {
											"Delay_2": {
												"runAfter": {},
												"type": "Wait",
												"inputs": {
													"interval": {
														"count": 1,
														"unit": "Day"
													}
												}
											},
											"Send_an_email_(V2)_5": {
												"runAfter": {
													"Delay_2": [
														"Succeeded"
													]
												},
												"type": "ApiConnection",
												"inputs": {
													"body": {
														"Body": "<p>@{variables('EmailBody')}</p>",
														"Importance": "High",
														"Subject": "Gentle Reminder-Translation Request - @{body('Parse_JSON')?['ItemTitle']}",
														"To": "@variables('TranslatorsEmail')"
													},
													"host": {
														"connection": {
															"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
														}
													},
													"method": "post",
													"path": "/v2/Mail"
												}
											}
										}
									},
									"expression": {
										"and": [
											{
												"equals": [
													"@variables('TranslatorTaskStatus')",
													"Finish Translation"
												]
											}
										]
									},
									"type": "If"
								},
								"Delay_5": {
									"runAfter": {},
									"type": "Wait",
									"inputs": {
										"interval": {
											"count": 1,
											"unit": "Minute"
										}
									}
								}
							},
							"runAfter": {
								"Re_Assign_the_Translation_task_to_one_Translator": [
									"Succeeded"
								]
							},
							"expression": "@equals(variables('TranslatorTaskStatus'), 'Finish Translation')",
							"limit": {
								"count": 2900,
								"timeout": "P1M"
							},
							"type": "Until"
						},
						"Until_2": {
							"actions": {
								"Condition_3": {
									"actions": {},
									"runAfter": {
										"Delay_14": [
											"Succeeded"
										]
									},
									"else": {
										"actions": {
											"Delay_15": {
												"runAfter": {},
												"type": "Wait",
												"inputs": {
													"interval": {
														"count": 1,
														"unit": "Day"
													}
												}
											},
											"Send_an_email_(V2)_15": {
												"runAfter": {
													"Delay_15": [
														"Succeeded"
													]
												},
												"type": "ApiConnection",
												"inputs": {
													"body": {
														"Body": "<p>@{variables('EmailBody')}</p>",
														"Importance": "High",
														"Subject": "Gentle Reminder-Translation Request - @{body('Parse_JSON')?['ItemTitle']}",
														"To": "@variables('TranslatorsEmail')"
													},
													"host": {
														"connection": {
															"name": "@parameters('$connections')['apicon-cpd-apps-into365-uat-we-01']['connectionId']"
														}
													},
													"method": "post",
													"path": "/v2/Mail"
												}
											}
										}
									},
									"expression": {
										"or": [
											{
												"equals": [
													"@variables('TranslationOwnershipCompleted')",
													"Yes"
												]
											}
										]
									},
									"type": "If"
								},
								"Delay_14": {
									"runAfter": {},
									"type": "Wait",
									"inputs": {
										"interval": {
											"count": 1,
											"unit": "Minute"
										}
									}
								}
							},
							"runAfter": {
								"Send_an_email_(V2)_8": [
									"Succeeded"
								]
							},
							"expression": "@equals(variables('TranslationOwnershipCompleted'), 'Yes')",
							"limit": {
								"count": 2900,
								"timeout": "P1M"
							},
							"type": "Until"
						},
						"Until_Translation_Task_is_marked_as_Finish_Translation": {
							"actions": {
								"Delay": {
									"runAfter": {},
									"type": "Wait",
									"inputs": {
										"interval": {
											"count": 10,
											"unit": "Second"
										}
									}
								},
								"Parse_JSON_4": {
									"runAfter": {
										"Send_an_HTTP_request_to_SharePoint": [
											"Succeeded"
										]
									},
									"type": "ParseJson",
									"inputs": {
										"content": "@body('Send_an_HTTP_request_to_SharePoint')",
										"schema": {
											"properties": {
												"TASMUTaskStatus": {
													"type": [
														"string",
														"null"
													]
												},
												"TASMUTaskStatusInternal": {
													"type": [
														"string",
														"null"
													]
												},
												"TaskComments": {
													"type": [
														"string",
														"null"
													]
												},
												"Translation": {
													"type": [
														"string",
														"null"
													]
												}
											},
											"type": "object"
										}
									}
								},
								"Parse_JSON_9": {
									"runAfter": {
										"Send_an_HTTP_request_to_SharePoint_7": [
											"Succeeded"
										]
									},
									"type": "ParseJson",
									"inputs": {
										"content": "@body('Send_an_HTTP_request_to_SharePoint_7')",
										"schema": {
											"properties": {
												"RequiresTranslation": {
													"type": "boolean"
												}
											},
											"type": "object"
										}
									}
								},
								"Send_an_HTTP_request_to_SharePoint": {
									"runAfter": {
										"Delay": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"headers": {
												"Accept": "application/json",
												"Content-Type": "application/json"
											},
											"method": "GET",
											"uri": "/_api/web/lists/getbytitle('@{variables('MyTasksList')}')/items(@{body('Parse_JSON_3')?['ID']})?$select=TASMUTaskStatusInternal,TaskComments,TASMUTaskStatus,Translation"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								},
								"Send_an_HTTP_request_to_SharePoint_7": {
									"runAfter": {
										"Set_variable_2": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"headers": {
												"Accept": "application/json",
												"Content-Type": "application/json"
											},
											"method": "GET",
											"uri": "/_api/web/lists/getbytitle('@{body('Parse_JSON')?['ListName']}')/items(@{body('Parse_JSON')?['ItemId']})?$select=RequiresTranslation"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								},
								"Set_variable": {
									"runAfter": {
										"Parse_JSON_4": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "TranslatorTaskStatus",
										"value": "@body('Parse_JSON_4')?['Translation']"
									}
								},
								"Set_variable_14": {
									"runAfter": {
										"Parse_JSON_9": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "CheckRequiresTranslation",
										"value": "@body('Parse_JSON_9')?['RequiresTranslation']"
									}
								},
								"Set_variable_2": {
									"runAfter": {
										"Set_variable": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "TranslatorTaskComments",
										"value": "@body('Parse_JSON_4')?['TaskComments']"
									}
								}
							},
							"runAfter": {
								"Re_Assign_the_Translation_task_to_one_Translator": [
									"Succeeded"
								]
							},
							"expression": "@equals(variables('TranslatorTaskStatus'), 'Finish Translation')",
							"limit": {
								"count": 2900,
								"timeout": "P1M"
							},
							"type": "Until"
						},
						"Until_any_translator_takes_Translation_task_ownership_Start_Translation": {
							"actions": {
								"Delay_13": {
									"runAfter": {},
									"type": "Wait",
									"inputs": {
										"interval": {
											"count": 10,
											"unit": "Second"
										}
									}
								},
								"Parse_JSON_11": {
									"runAfter": {
										"Send_an_HTTP_request_to_SharePoint_10": [
											"Succeeded"
										]
									},
									"type": "ParseJson",
									"inputs": {
										"content": "@body('Send_an_HTTP_request_to_SharePoint_10')",
										"schema": {
											"properties": {
												"Editor": {
													"properties": {
														"Id": {
															"type": "integer"
														}
													},
													"type": "object"
												},
												"Translation": {
													"type": [
														"string",
														"null"
													]
												}
											},
											"type": "object"
										}
									}
								},
								"Send_an_HTTP_request_to_SharePoint_10": {
									"runAfter": {
										"Delay_13": [
											"Succeeded"
										]
									},
									"type": "ApiConnection",
									"inputs": {
										"body": {
											"headers": {
												"Accept": "application/json;odata=nometadata"
											},
											"method": "GET",
											"uri": "/_api/web/Lists/getbytitle('@{variables('MyTasksList')}')/items(@{body('Parse_JSON_3')?['ID']})?$select=Editor/Id,Translation&$expand=Editor/Id"
										},
										"host": {
											"connection": {
												"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
											}
										},
										"method": "post",
										"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
									}
								},
								"Set_variable_34": {
									"runAfter": {
										"Parse_JSON_11": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "TranslationOwnerEmail",
										"value": "@{body('Parse_JSON_11')?['Editor']?['Id']}"
									}
								},
								"Set_variable_35": {
									"runAfter": {
										"Set_variable_34": [
											"Succeeded"
										]
									},
									"type": "SetVariable",
									"inputs": {
										"name": "TranslationOwnership",
										"value": "@body('Parse_JSON_11')?['Translation']"
									}
								}
							},
							"runAfter": {
								"Send_an_email_(V2)_8": [
									"Succeeded"
								]
							},
							"expression": "@equals(variables('TranslationOwnership'), 'Start Translation')",
							"limit": {
								"count": 2900,
								"timeout": "P1M"
							},
							"type": "Until"
						},
						"Update_status_to_Pending_Translation_in_Parent_list": {
							"runAfter": {
								"Parse_JSON_3": [
									"Succeeded"
								]
							},
							"type": "ApiConnection",
							"inputs": {
								"body": {
									"body": "{\n\"Contenuatatus\":\"Pending Translation\",\n\"RequiresTranslation\":\"false\"\n}",
									"headers": {
										"Accept": "application/json;odata=verbose",
										"Content-Type": "application/json",
										"If-Match": "*",
										"X-HTTP-Method": "MERGE"
									},
									"method": "POST",
									"uri": "/_api/web/lists/GetByTitle('@{body('Parse_JSON')?['ListName']}')/GetItemById(@{body('Parse_JSON')?['ItemId']})"
								},
								"host": {
									"connection": {
										"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
									}
								},
								"method": "post",
								"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
							}
						}
					},
					"runAfter": {
						"Set_variable_7": [
							"Succeeded"
						]
					},
					"expression": {
						"and": [
							{
								"equals": [
									"@variables('CountValue1')",
									0
								]
							},
							{
								"equals": [
									"@variables('CountValue2')",
									0
								]
							}
						]
					},
					"type": "If"
				},
				"Count_to_check_if_task_exists_for_item_in_Global_site": {
					"runAfter": {
						"Count_to_check_if_task_exists_for_item_in_current_site": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "CountValue2",
								"type": "integer"
							}
						]
					}
				},
				"Count_to_check_if_task_exists_for_item_in_current_site": {
					"runAfter": {
						"Initialize_variable_CurrentSiteLevelGlobalConfig": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "CountValue1",
								"type": "integer"
							}
						]
					}
				},
				"Get_the_Item_from_Current_Level_Task_List_{If_exists}": {
					"runAfter": {
						"Parse_JSON": [
							"Succeeded"
						]
					},
					"type": "ApiConnection",
					"inputs": {
						"body": {
							"headers": {
								"Accept": "application/json;odata=nometadata"
							},
							"method": "GET",
							"uri": "/_api/web/lists/getbytitle('@{variables('MyTasksList')}')/items?$select=ParentItemId,Id&$filter=(ParentSiteUrl eq '@{body('Parse_JSON')?['SiteURL']}' ) and (ParentItemId eq '@{body('Parse_JSON')?['ItemGUID']}') and TASMUTaskStatusInternal eq 'Active'"
						},
						"host": {
							"connection": {
								"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
							}
						},
						"method": "post",
						"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['SiteURL']))}/httprequest"
					}
				},
				"Get_the_item_from_Global_Level_Task_List_{If_exists}": {
					"runAfter": {
						"Parse_JSON_16": [
							"Succeeded"
						]
					},
					"type": "ApiConnection",
					"inputs": {
						"body": {
							"headers": {
								"Accept": "application/json;odata=nometadata"
							},
							"method": "GET",
							"uri": "/_api/web/lists/getbytitle('@{variables('MyTasksList')}')/items?$select=ParentItemId,Id&$filter=(ParentSiteUrl eq '@{body('Parse_JSON')?['MarketplaceSiteURL']}' ) and (ParentItemId eq '@{body('Parse_JSON')?['ItemGUID']}') and TASMUTaskStatusInternal eq 'Active'"
						},
						"host": {
							"connection": {
								"name": "@parameters('$connections')['apicon-cpd-apps-intospo-uat-we-01']['connectionId']"
							}
						},
						"method": "post",
						"path": "/datasets/@{encodeURIComponent(encodeURIComponent(body('Parse_JSON')?['MarketplaceSiteURL']))}/httprequest"
					}
				},
				"Initialize_Checks_Requires_Translation_variable": {
					"runAfter": {
						"Initialize_variable_for_Entity_Name_from_Configuration_List": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "CheckRequiresTranslation",
								"type": "boolean"
							}
						]
					}
				},
				"Initialize_variable": {
					"runAfter": {
						"Initialize_variable_Count_Of_Entities": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslationOwnershipCompleted",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_17": {
					"runAfter": {
						"Initialize_variable_For_Email_Body": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "2ndLevelApproval",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_ApproverEmail": {
					"runAfter": {
						"Initialize_variable_TranslatorsEmail": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ApproverEmail",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_ApproverTaskComments": {
					"runAfter": {
						"Initialize_variable_TranslatorTaskComments": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ApproverTaskComments",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_ApproverTaskId": {
					"runAfter": {
						"Initialize_variable_TranslatorTaskId": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ApproverTaskId",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_ApproverTaskStatus": {
					"runAfter": {
						"Initialize_variable_TranslatorTaskStatus": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ApproverTaskStatus",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_ApproverUserId": {
					"runAfter": {
						"Initialize_variable_TranslatorsUserId": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ApproverUserId",
								"type": "array"
							}
						]
					}
				},
				"Initialize_variable_ApproversGroupName": {
					"runAfter": {
						"Initialize_variable_TranslatorsGroupName": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ApproversGroupName",
								"type": "string",
								"value": "Approvers"
							}
						]
					}
				},
				"Initialize_variable_Count_Of_Entities": {
					"runAfter": {
						"Initialize_variable_Count_Of_Sectors": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "CountOfEntities",
								"type": "integer",
								"value": 0
							}
						]
					}
				},
				"Initialize_variable_Count_Of_Sectors": {
					"runAfter": {
						"Initialize_variable_Editor_Email_Body": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "CountOfSectors",
								"type": "integer",
								"value": 0
							}
						]
					}
				},
				"Initialize_variable_CurrentSiteLevelGlobalConfig": {
					"runAfter": {
						"Initialize_variable_RequiresApproval": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "CurrentSiteLevelGlobalConfig",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_Editor_Email_Body": {
					"runAfter": {
						"Initialize_variable_for_Translation_Ownership_value": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "EditorEmailBody",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_For_Email_Body": {
					"runAfter": {
						"Initialize_Checks_Requires_Translation_variable": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "EmailBody",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_GlobalApproverEmail": {
					"runAfter": {
						"Initialize_variable_ApproverEmail": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "GlobalApproverEmail",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_GlobalApproverTaskComments": {
					"runAfter": {
						"Initialize_variable_ApproverTaskComments": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "GlobalApproverTaskComments",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_GlobalApproverTaskId": {
					"runAfter": {
						"Initialize_variable_ApproverTaskId": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "GlobalApproverTaskId",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_GlobalApproverTaskStatus": {
					"runAfter": {
						"Initialize_variable_ApproverTaskStatus": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "GlobalApproverTaskStatus",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_GlobalApproverUserId": {
					"runAfter": {
						"Initialize_variable_ApproverUserId": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "GlobalApproverUserId",
								"type": "array"
							}
						]
					}
				},
				"Initialize_variable_GlobalApproversGroupName": {
					"runAfter": {
						"Initialize_variable_ApproversGroupName": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "GlobalApproversGroupName",
								"type": "string",
								"value": "Approvers"
							}
						]
					}
				},
				"Initialize_variable_RequiresApproval": {
					"runAfter": {
						"Initialize_variable_GlobalApproversGroupName": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "RequiresApproval",
								"type": "boolean"
							}
						]
					}
				},
				"Initialize_variable_Translation_Owner_Email": {
					"runAfter": {
						"Initialize_variable_for_Translation_ContentType_Id": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslationOwnerEmail",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_TranslatorTaskComments": {
					"runAfter": {
						"Initialize_variable_GlobalApproverTaskId": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslatorTaskComments",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_TranslatorTaskId": {
					"runAfter": {
						"Initialize_variable_GlobalApproverUserId": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslatorTaskId",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_TranslatorTaskStatus": {
					"runAfter": {
						"Initialize_variable_GlobalApproverTaskComments": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslatorTaskStatus",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_TranslatorsEmail": {
					"runAfter": {},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslatorsEmail",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_TranslatorsGroupName": {
					"runAfter": {
						"Initialize_variable_GlobalApproverTaskStatus": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslatorsGroupName",
								"type": "string",
								"value": "Translators"
							}
						]
					}
				},
				"Initialize_variable_TranslatorsUserId": {
					"runAfter": {
						"Initialize_variable_GlobalApproverEmail": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslatorsUserId",
								"type": "array"
							}
						]
					}
				},
				"Initialize_variable_for_Entity_Name_from_Configuration_List": {
					"runAfter": {
						"Initialize_variable_for_Sector_Name_from_Configuration_List": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ConfigEnityName",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_for_Sector_Name_from_Configuration_List": {
					"runAfter": {
						"Initialize_variable_for_SiteLevel_from_Configuration_List": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ConfigSectorName",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_for_SiteLevel_from_Configuration_List": {
					"runAfter": {
						"variable_to_initialize_Name_of_My_Tasks_List": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "ConfigSiteLevel",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_for_Translation_ContentType_Id": {
					"runAfter": {
						"Initialize_variable_17": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslationContentTypeId",
								"type": "string"
							}
						]
					}
				},
				"Initialize_variable_for_Translation_Ownership_value": {
					"runAfter": {
						"Initialize_variable_Translation_Owner_Email": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "TranslationOwnership",
								"type": "string"
							}
						]
					}
				},
				"Parse_JSON": {
					"runAfter": {
						"Initialize_variable": [
							"Succeeded"
						]
					},
					"type": "ParseJson",
					"inputs": {
						"content": "@decodeBase64(triggerBody()?['ContentData'])",
						"schema": {
							"properties": {
								"ChangeType": {
									"type": "string"
								},
								"EditorEmail": {
									"type": "string"
								},
								"GlobalConfigList": {
									"type": "string"
								},
								"GlobalSiteTitle": {
									"type": [
										"string",
										"null"
									]
								},
								"GlobalSiteURL": {
									"type": "string"
								},
								"ItemGUID": {
									"type": "string"
								},
								"ItemId": {
									"type": "string"
								},
								"ItemTitle": {
									"type": "string"
								},
								"ListId": {
									"type": "string"
								},
								"ListName": {
									"type": "string"
								},
								"MarketplaceSiteURL": {
									"type": "string"
								},
								"SiteTitle": {
									"type": [
										"string",
										"null"
									]
								},
								"SiteURL": {
									"type": "string"
								},
								"StringValue": {
									"type": [
										"string",
										"null"
									]
								}
							},
							"type": "object"
						}
					}
				},
				"Parse_JSON_16": {
					"runAfter": {
						"Get_the_Item_from_Current_Level_Task_List_{If_exists}": [
							"Succeeded"
						]
					},
					"type": "ParseJson",
					"inputs": {
						"content": "@body('Get_the_Item_from_Current_Level_Task_List_{If_exists}')",
						"schema": {
							"properties": {
								"value": {
									"items": {
										"properties": {
											"ID": {
												"type": "integer"
											},
											"Id": {
												"type": "integer"
											},
											"ParentItemId": {
												"type": "string"
											}
										},
										"required": [
											"Id",
											"ParentItemId",
											"ID"
										],
										"type": "object"
									},
									"type": "array"
								}
							},
							"type": "object"
						}
					}
				},
				"Parse_JSON_17": {
					"runAfter": {
						"Get_the_item_from_Global_Level_Task_List_{If_exists}": [
							"Succeeded"
						]
					},
					"type": "ParseJson",
					"inputs": {
						"content": "@body('Get_the_item_from_Global_Level_Task_List_{If_exists}')",
						"schema": {
							"properties": {
								"value": {
									"items": {
										"properties": {
											"ID": {
												"type": "integer"
											},
											"Id": {
												"type": "integer"
											},
											"ParentItemId": {
												"type": "string"
											}
										},
										"required": [
											"Id",
											"ParentItemId",
											"ID"
										],
										"type": "object"
									},
									"type": "array"
								}
							},
							"type": "object"
						}
					}
				},
				"Set_variable_6": {
					"runAfter": {
						"Parse_JSON_17": [
							"Succeeded"
						]
					},
					"type": "SetVariable",
					"inputs": {
						"name": "CountValue1",
						"value": "@length(body('Parse_JSON_16')?['value'])"
					}
				},
				"Set_variable_7": {
					"runAfter": {
						"Set_variable_6": [
							"Succeeded"
						]
					},
					"type": "SetVariable",
					"inputs": {
						"name": "CountValue2",
						"value": "@length(body('Parse_JSON_17')?['value'])"
					}
				},
				"To_set_Entity_Term_Name": {
					"runAfter": {
						"to_set_Sector_TermName": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "EntityTermName",
								"type": "string"
							}
						]
					}
				},
				"Variable_to_check_if_2nd_level_approval_is_required_or_not": {
					"runAfter": {
						"To_set_Entity_Term_Name": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "2ndLevelApprovalRequired",
								"type": "string"
							}
						]
					}
				},
				"to_set_Sector_TermName": {
					"runAfter": {
						"Count_to_check_if_task_exists_for_item_in_Global_site": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "SectorTermName",
								"type": "string"
							}
						]
					}
				},
				"variable_to_initialize_Name_of_My_Tasks_List": {
					"runAfter": {
						"Variable_to_check_if_2nd_level_approval_is_required_or_not": [
							"Succeeded"
						]
					},
					"type": "InitializeVariable",
					"inputs": {
						"variables": [
							{
								"name": "MyTasksList",
								"type": "string",
								"value": "My%20Tasks"
							}
						]
					}
				}
			}
		},
		"workflowParameters": {
			"value": {
				"$connections": {
					"defaultValue": {},
					"type": "Object"
				}
			}
		},
		"tags": {
			"value": {
				"Environment": "UAT"
			}
		},
		"connectionParameters": {
			"value": {
				"$connections": {
					"value": {
						"apicon-cpd-apps-into365-uat-we-01": {
							"connectionId": "/subscriptions/d0694def-b27e-4bb7-900d-437fbeb802da/resourceGroups/rg-cpd-apps-int-uat-we-01/providers/Microsoft.Web/connections/apicon-cpd-apps-into365-uat-we-01",
							"connectionName": "apicon-cpd-apps-into365-uat-we-01",
							"id": "/subscriptions/d0694def-b27e-4bb7-900d-437fbeb802da/providers/Microsoft.Web/locations/westeurope/managedApis/office365"
						},
						"apicon-cpd-apps-intsb-uat-we-01": {
							"connectionId": "/subscriptions/d0694def-b27e-4bb7-900d-437fbeb802da/resourceGroups/rg-cpd-apps-int-uat-we-01/providers/Microsoft.Web/connections/apicon-cpd-apps-intsb-uat-we-01",
							"connectionName": "apicon-cpd-apps-intsb-uat-we-01",
							"id": "/subscriptions/d0694def-b27e-4bb7-900d-437fbeb802da/providers/Microsoft.Web/locations/westeurope/managedApis/servicebus"
						},
						"apicon-cpd-apps-intospo-uat-we-01": {
							"connectionId": "/subscriptions/d0694def-b27e-4bb7-900d-437fbeb802da/resourceGroups/rg-cpd-apps-int-uat-we-01/providers/Microsoft.Web/connections/apicon-cpd-apps-intospo-uat-we-01",
							"connectionName": "apicon-cpd-apps-intospo-uat-we-01",
							"id": "/subscriptions/d0694def-b27e-4bb7-900d-437fbeb802da/providers/Microsoft.Web/locations/westeurope/managedApis/sharepointonline"
						}
					}
				}
			}
		}
	}
}