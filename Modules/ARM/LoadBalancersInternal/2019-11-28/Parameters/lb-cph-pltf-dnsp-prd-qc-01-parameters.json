{
  "$schema": "http:schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "lbName": {
      "value": "lbi-cph-pltf-dnsp-prd-qc-01"
    },
    "lbfrontSubnetName": {
      "value": "snet-cph-pltf-dnsp-prd-qc-01",
      "metadata": {
        "description": "trusted subnet for the LB front"
      }
    },
    "lbIPAddress": {
      "value": "172.20.93.170"
    },
    "vnetName": {
      "value": "vnet-cph-pltf-prd-qc-01"
    },
    "parentResourceGroup": {
      "value": "rg-cph-pltf-net-prd-qc-01"
    },
    "backendAddressPools": [
        {
          "name": "bkpool-cph-pltf-dnsp-prd-qc-01",
          "properties": {
                          "backendIPConfigurations": [
                      {
                          "id": "/subscriptions/4e865dba-bf2f-463a-a957-c69f5fb32ec5/resourceGroups/rg-cph-pltf-dnsp-prd-qc-01/providers/Microsoft.Network/networkInterfaces/vmdnsprdqc01-nic-01"
                      },
                      {
                          "id": "/subscriptions/4e865dba-bf2f-463a-a957-c69f5fb32ec5/resourceGroups/rg-cph-pltf-dnsp-prd-qc-01/providers/Microsoft.Network/networkInterfaces/vmdnsprdqc02-nic-01"
                      },
                      {
                          "id": "/subscriptions/4e865dba-bf2f-463a-a957-c69f5fb32ec5/resourceGroups/rg-cph-pltf-dnsp-prd-qc-01/providers/Microsoft.Network/networkInterfaces/vmdnsprdqc03-nic-01"
                      }
                  ]
                      }
        }
      ],
      "loadBalancingRules": {
          "value": [{
                  "name": "lbrule-cph-pltf-dnsp-prd-qc-01",
                  "properties": {
                      "frontendIPConfigurationName": "lbIPAddress",
                      "frontendPort": 53,
                      "backendPort": 53,
                      "enableFloatingIP": false,
                      "idleTimeoutInMinutes": 5,
                      "protocol": "TCP",
                      "enableTcpReset": false,
                      "loadDistribution": "Default",
                      "disableOutboundSnat": false,
                      "probeName": "hprobe-cph-pltf-dnsp-prd-qc-53",
                      "backendAddressPoolName": "bkpool-cph-pltf-dnsp-prd-qc-01"
                  }
              },
               {
                 "name": "lbrule-cph-pltf-dnsp-prd-qc-02",
                 "properties": {
                   "frontendIPConfigurationName": "lbIPAddress",
                   "frontendPort": 53,
                   "backendPort": 53,
                   "enableFloatingIP": false,
                   "idleTimeoutInMinutes": 5,
                   "protocol": "UDP",
                   "enableTcpReset": false,
                   "loadDistribution": "Default",
                   "disableOutboundSnat": false,
                   "probeName": "hprobe-cph-pltf-dnsp-prd-qc-53",
                   "backendAddressPoolName": "bkpool-cph-pltf-dnsp-prd-qc-01"

                 }
               }
          ]
      },
      "probes": {
          "value": [{
              "name": "hprobe-cph-pltf-dnsp-prd-qc-53",
              "properties": {
                  "protocol": "TCP",
                  "port": 53,
                  "requestPath": "/",
                  "intervalInSeconds": 10,
                  "numberOfProbes": 5
              }
          }]
      }
  },

    "tags": {
      "value": {
          "Environment": "Production"
      }
  }
  }
